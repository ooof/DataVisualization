/*!CK:2591168718!*//*1414508031,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["Vvqb8"]); }

__d("MScrollAreaMarauderLogger",["DataStore","Stratcom","MarauderLogger"],function(a,b,c,d,e,f,g,h,i){function j(event){var k=g.get(event.getData().element);i.log(k.marauderEventName);}h.listen('MScrollArea:scrollend','enableMarauderLogging',j);},null);
__d("MPagesContextClickLogging",["Banzai","DataStore","DOM","destroyOnUnload"],function(a,b,c,d,e,f,g,h,i,j){var k='page-context-item-link',l='page_context_item_tap';f.init=function(m){var n=i.listen(m,'click',k,function(o){var p=o.getNode(k);g.post(l,h.get(p));});j(n.remove.bind(n));};},null);
__d("MPagesFinchMarauderLogger",["Stratcom","MarauderLogger","DataStore"],function(a,b,c,d,e,f,g,h,i){var j=false,k='m-pages-log-event',l='m-pages-log-event-onchange';function m(){if(j)return;g.listen('click',k,n);g.listen('change',l,o);j=true;}function n(event){p(event.getNode(k));}function o(event){p(event.getNode(l));}function p(q){var r=i.get(q);h.log(r.event_name,r.module_name,r.log_data);}e.exports={init:m};},null);
__d("MPagesFinchUtilities",[],function(a,b,c,d,e,f){var g=function(i){var j=document.defaultView.getComputedStyle(i,null).getPropertyValue('line-height');if(!/px$/.test(j))return null;var k=parseInt(j,10);return k;},h={calculateNumberOfLinesShown:function(i){var j=i.offsetHeight,k=g(i);if(k){return j/k;}else return null;},calculateNumberOfLinesWithoutTruncation:function(i){var j=i.scrollHeight,k=g(i);if(k){return j/k;}else return null;},calculateHeightForNumberOfLines:function(i,j){var k=g(i);if(k){return k*j;}else return null;}};e.exports=h;},null);
__d("MPagesFinchMoreText",["$","CSS","DataStore","Stratcom","cx","MarauderLogger","MPagesFinchUtilities"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n='more-text-trigger',o=false,p=function(s,t){var u=g(i.get(s).id),v=g(i.get(s).mask_id),w=i.get(s).masked;if(u&&v){u.style.webkitLineClamp=undefined;var x="_549n";h.conditionClass(u,x,false);var y=i.get(s).max_lines,z=m.calculateNumberOfLinesShown(u);if(!z)return;var aa=false,ba='inherit';if(z>y){aa=true;ba=m.calculateHeightForNumberOfLines(u,y)+'px';}if(aa===w)return;var ca="_4___";h.conditionClass(v,ca,!aa);u.style.maxHeight=ba;i.set(s,{masked:aa});if(t){var da=i.get(s).event_name,ea=i.get(s).module_name,fa=i.get(s).log_data;if(da&&fa){fa.expand_event=!aa;l.log(da,ea,fa);}}}},q=function(){if(o)return;o=true;var s=j.listen('click',n,function(event){var t=event.getNode(n);if(!event.getTarget().href)p(t,true);});j.listen('m:page:unload',null,function(event){s.remove();o=false;});},r=function(s){q();p(s,false);};f.initializeMoreTextNode=r;},null);
__d("MPagesFinchPhotoCarousel",["$","CSS","DOM","DataStore","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k){var l="next-photo-link",m="prev-photo-link",n='carousel-photos-div',o={},p=function(q){if(o[q])return;o[q]=true;var r=g(q);k.addSigil(r,q);var s=i.find(r,"div",n),t=i.find(r,"a",l),u=i.find(r,"a",m),v=j.get(s),w=g(v.initial_photo_id),x=function(ba){var ca=j.get(w),da;if(ba==l){da=g(ca.next);}else da=g(ca.prev);h.hide(w);h.show(da);w=da;y();},y=function(){var ba=j.get(w),ca=(ba.prev==null),da=(ba.next==null);da?h.hide(t):h.show(t);ca?h.hide(u):h.show(u);};y();var z=k.listen('click',[q,m],function(){x(m);}),aa=k.listen('click',[q,l],function(){x(l);});k.listen("m:page:unload",null,function(event){aa.remove();z.remove();o[q]=false;});};f.setUpListeners=p;},null);
__d("MPagesFinchShowLink",["Stratcom","DataStore","fbt"],function(a,b,c,d,e,f,g,h,i){var j='show-link',k=function(){var m=g.listen('click',j,function(event){var n=h.get(event.getNode(j));window.prompt("\u8f7b\u89e6\u5e76\u957f\u6309\u94fe\u63a5\u53ef\u9009\u62e9\u5e76\u590d\u5236\u7f51\u5740\u3002",n.uri);});g.listen('m:page:unload',null,function(event){m.remove();});},l=function(){k();};f.init=l;},null);
__d("MPagesFinchToggleActions",["$","CSS","Stratcom","DataStore"],function(a,b,c,d,e,f,g,h,i,j){var k='two-state-action',l=function(){i.listen('click',k,function(m){var n=m.getNode(k),o=g(j.get(n).current_button_id),p=g(j.get(n).sibling_button_id);h.hide(o);h.show(p);});};f.setUpListeners=l;},null);
__d("MPagesNameLengthDetector",["cx","CSS","MPagesFinchUtilities"],function(a,b,c,d,e,f,g,h,i){var j={adjustSizeWhenNeeded:function(k,l){if(j.isTextTruncated(k))h.addClass(k,"_3vpv");if(j.isTextTruncated(k))h.addClass(l,"_26ls");},isTextTruncated:function(k){var l=Math.round(i.calculateNumberOfLinesWithoutTruncation(k)),m=Math.round(i.calculateNumberOfLinesShown(k));return l>m;}};e.exports=j;},null);
__d("MCroppedPhotoGrid",["setTimeoutAcrossTransitions","CSS","DataStore","DOM","MTouchHelper","Stratcom"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m='m-cropped-photo-grid',n=function(q){var r=j.scry(q,'*','grid-item-deferred'),s=i.get(q);s.timer=null;var t=window.innerWidth*1.5,u=r.length-1;r.some(function(v,w){var x=i.get(v);if(!x.rendered){var y=v.getBoundingClientRect();if(y.left<=t){x.rendered=true;var z=new Image();z.onload=function(){h.conditionClass(v,'gridPhotoDeferred',false);z.onload=null;};var aa=v.style.backgroundImage;aa=aa.replace(/.*url\(("|')?([^("|')]*)("|')?\).*/,'$2');z.src=aa;s.complete=u===w;}else return true;}});},o=function(q){var r=q.getNode(m),s=i.get(r);if(!s.complete)s.timer=g(n.bind(null,r),300);},p=function(q){var r=q.getNode(m),s=i.get(r).timer;s&&clearTimeout(s);};l.listen(k.EVT_TOUCHSTART,m,p);l.listen(k.EVT_TOUCHEND,m,o);},null);