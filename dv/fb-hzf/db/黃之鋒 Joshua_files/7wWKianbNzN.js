/*!CK:1062260485!*//*1404100202,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["qXY0w"]); }

__d("MScrollAreaScroller",["MAnimator","MTouchHelper","copyProperties"],function(a,b,c,d,e,f,g,h,i){var j=100,k=.15;function l(m,n){"use strict";this._canAnimate=this._canAnimate.bind(this);var o=n||{};this._pagingPositions=o.pagingPositions;this._usePaging=o.paging;this._canScrollX=(o.direction==='horizontal');this._canScrollY=!this._canScrollX;this.left=o.scrollX||0;this.top=o.scrollY||0;this.noThreshold=o.noThreshold;this._handler=m;this._animator=new g();}l.prototype.dispose=function(){"use strict";if(!this._disposed){this.stop();for(var m in this)delete this[m];this._disposed=true;}};l.prototype.scrollByPages=function(m){"use strict";var n=this.left,o=this.top,p,q;if(this._canScrollX){if(this._pagingPositions){var r=this._getPageIndex()+m;p=this._indexToLeftOffset(r);}else p=Math.floor(n/this.width)*this.width+m*this.width;if(p>this.maxScrollLeft||p<this.minScrollLeft)return;q=o;}else{q=Math.floor(o/this.height)*this.height+m*this.height;if(q>this.maxScrollTop||q<this.minScrollTop)return;p=n;}this.stop();var s=p-n,t=q-o,u=function(w){this.scrolling=w<1;this._scrollTo(n+s*w,o+t*w);}.bind(this),v=function(){this._handler.onScrollEnd(this.left,this.top,false);}.bind(this);this.scrolling=true;this._handler.onScrollStart(this.left,this.top);this._animator.start(u,this._canAnimate,v,500);};l.prototype.setDimensions=function(m,n,o,p,q){"use strict";var r=o<m?m:o,s=p<n?n:p;if(this._usePaging){r=m*Math.ceil(r/m);s=n*Math.ceil(s/n);}if(q&&q!=this._pagingPositions)this._pagingPositions=q;this.scrollWidth=r;this.scrollHeight=s;this.width=m;this.height=n;this.maxScrollTop=s-n;this.maxScrollLeft=r-m;this._syncPaging();};l.prototype.stop=function(){"use strict";this._animator.stop();this.scrolling=false;this._touchMoved=false;delete this._moveCoordStart;};l.prototype.doTouchStart=function(m){"use strict";this.stop();this._moveCoordStart=h.getTouchPageCoord(m);this._startX=this.left;this._startY=this.top;this._startDirection=null;this._touchMoved=false;this._scrolled=false;this._skipTouchMove=h.isMultiTouch(m);this._scrollList=[{time:Date.now(),position:this._moveCoordStart}];};l.prototype.doTouchMove=function(m){"use strict";if(!this._moveCoordStart||this._skipTouchMove)return;var n=h.getTouchPageCoord(m),o=Date.now();this._scrollList.push({time:o,position:n});while(o-this._scrollList[1].time>j)this._scrollList.shift();if(this.scrolling){this._moveTimePrevious=this._moveTimeNow;this._moveTimeNow=o;if(n.y===this._moveCoordNow.y&&n.x===this._moveCoordNow.x)return;}var p=this._moveCoordStart,q=p.x-n.x,r=p.y-n.y;if(!this.scrolling){var s=Math.abs(q),t=Math.abs(r);if(s>this._SCROLL_START_DELTA||t>this._SCROLL_START_DELTA){var u=this.noThreshold||(this._canScrollX&&s>t)||(this._canScrollY&&t>s);if(u){if(this.noThreshold){this._startDirection=this._canScrollX?'x':'y';}else this._startDirection=s>t?'x':'y';this.scrolling=true;this._moveCoordPrevious=this._moveCoordNow;this._moveCoordStart=n;this._moveCoordNow=n;this._moveTimeNow=o;this._touchMoved=true;}else{this._skipTouchMove=true;return;}}}m.prevent();if(this._startDirection==='x'&&!this._canScrollX||this._startDirection==='y'&&!this._canScrollY)return;if(!this._scrolled){this._scrolled=true;this._handler.onScrollStart(this.left,this.top);}this._moveCoordPrevious=this._moveCoordNow;this._moveCoordNow=n;this._touchMoved=true;q=this._canScrollX?q:0;r=this._canScrollY?r:0;var v=this._TENSION_FACTOR,w=this._TENSION_LIMIT,x,y,z=this._startX+q;if(this._canScrollX){if(z<this.minScrollLeft){y=z-this.minScrollLeft;}else if(z>this.maxScrollLeft)y=z-this.maxScrollLeft;if(y){x=Math.min(1,Math.abs(y)/w);x=(1-Math.cos(x*Math.PI/2));z-=y*Math.pow(v,~~(x*10));}y=null;}var aa=this._startY+r;if(this._canScrollY){if(aa<this.minScrollTop){y=aa-this.minScrollTop;}else if(aa>this.maxScrollTop)y=aa-this.maxScrollTop;if(y){x=Math.min(1,Math.abs(y)/w);x=(1-Math.cos(x*Math.PI/2));aa-=y*Math.pow(v,~~(x*10));}}this._scrollTo(z,aa);};l.prototype.doTouchEnd=function(m){"use strict";if(!this._moveCoordStart)return;if(this.scrolling)m.prevent();var n=0,o=0,p=this._moveCoordPrevious,q=this._moveCoordStart,r=this._moveCoordNow||p||q,s=this._canScrollX?this.left:this.top,t,u,v=this._SCROLLING_DURATION,w=Date.now()-this._moveTimePrevious;if(this._usePaging){this._syncPaging();v=this._PAGING_DURATION;var x=this._getRecentTimeAndLocation(),y=this._getIndexDelta(x.position,x.time),z=this.pageIndex+y;z=this._clamp(z,0,this.pagesCount-1);if(this._canScrollX){t=this._clamp(this._indexToLeftOffset(z),this.minScrollLeft,this.maxScrollLeft);}else t=this._clamp(z*this.height,this.minScrollTop,this.maxScrollTop);}else if(this._touchMoved&&w<this._MAX_TOUCH_MOVE_INTERVAL){o=this._canScrollX?p.x-r.x:p.y-r.y;n=o/w;}else{if(this.top<this.minScrollTop){t=this.minScrollTop;}else if(this.top>this.maxScrollTop){t=this.maxScrollTop;}else if(this.left<this.minScrollLeft){t=this.minScrollLeft;}else if(this.left>this.maxScrollLeft)t=this.maxScrollLeft;if(t!==undefined)v=this._PAGING_DURATION;}this._doPostTouchScrolling(s,t,u,n,v);delete this._moveCoordStart;this._scrollList=null;this._touchMoved=false;};l.prototype.isTouchMoving=function(){"use strict";return this._touchMoved;};l.prototype.scrollTo=function(m,n){"use strict";this.stop();this._handler.onScrollStart(this.left,this.top);this._scrollTo(m,n);this._handler.onScrollEnd(this.left,this.top,false);};l.prototype.getPagingPositions=function(){"use strict";return this._pagingPositions;};l.prototype._doPostTouchScrolling=function(m,n,o,p,q){"use strict";p*=this._SPEED_FACTOR;if(n===undefined){n=m+p*q;if(this._canScrollX){o=this._clamp(n,this.minScrollLeft,this.maxScrollLeft);}else o=this._clamp(n,this.minScrollTop,this.maxScrollTop);if(n!==o)n=o+(n-o)*this._BOUNCE_FACTOR/Math.max(1,Math.abs(p));if((n<m&&o<n)||(n>m&&o>n))n=o;}if(o===undefined)o=n;if(n===m&&n===o)return;var r=this._canScrollX?function(t){this._scrollTo(t,this.top);}:function(t){this._scrollTo(this.left,t);},s=this._createStepFunction(m,n,o,function(t,u){this.scrolling=u<1;r.call(this,t);});this.scrolling=true;this._animator.start(s,this._canAnimate,s,q);};l.prototype._createStepFunction=function(m,n,o,p){"use strict";n=n===undefined?m:n;o=o===undefined?n:o;var q=n-m,r=o-n;return function(s,t,u){var v;if(r===0){v=m+q*s;}else if(s<=.5){v=m+q*(s/.5);}else v=n+r*((s-.5)/.5);p.call(this,v,s);if(!t)this._handler.onScrollEnd(this.left,this.top,true);}.bind(this);};l.prototype._scrollTo=function(m,n){"use strict";m=Math.round(m);n=Math.round(n);if(this.left!==m||this.top!==n){this.left=m;this.top=n;this._syncPaging();this._handler.onScroll(m,n);}};l.prototype._syncPaging=function(){"use strict";if(this._usePaging){if(!this.height||!this.width){this.pageIndex=0;this.pagesCount=1;return;}this.pageIndex=this._canScrollX?this._getPageIndex():Math.floor(this.top/this.height);this.pagesCount=this._canScrollX?this._getPagesCount():Math.ceil(this.scrollHeight/this.height);}};l.prototype._indexToLeftOffset=function(m){"use strict";if(this._pagingPositions){m=Math.max(Math.min(m,this._pagingPositions.length-1),0);return this._pagingPositions[m];}return m*this.width;};l.prototype._getPagesCount=function(){"use strict";if(this._pagingPositions)return this._pagingPositions.length;return Math.ceil(this.scrollWidth/this.width);};l.prototype._getPageIndex=function(){"use strict";if(this._pagingPositions)for(var m=this._pagingPositions.length-1;m>=0;--m)if(this._pagingPositions[m]<=this.left)return m;return Math.max(0,Math.floor(this.left/this.width));};l.prototype._getRecentTimeAndLocation=function(){"use strict";for(var m=this._scrollList.length-1;m>-1;m--)if(Date.now()-this._scrollList[m].time>j)return this._scrollList[m];return this._scrollList[0];};l.prototype._getRecentTimeDelta=function(m){"use strict";return Date.now()-m;};l.prototype._getRecentScrollDistance=function(m){"use strict";if(this._canScrollX)return Math.abs(this._moveCoordNow.x-m.x);return Math.abs(this._moveCoordNow.y-m.y);};l.prototype._isBackSwipe=function(){"use strict";if(this._canScrollX)return this._moveCoordNow.x>this._moveCoordStart.x;return this._moveCoordNow.y>this._moveCoordStart.y;};l.prototype._isRecentBackSwipe=function(m){"use strict";if(this._canScrollX){return this._moveCoordNow.x>m.x;}else return this._moveCoordNow.y>m.y;};l.prototype._getDistance=function(){"use strict";if(this._canScrollX)return Math.abs(this._moveCoordNow.x-this._moveCoordStart.x);return Math.abs(this._moveCoordNow.y-this._moveCoordStart.y);};l.prototype._crossesMedian=function(){"use strict";if(this._canScrollX)return this._getDistance()>(this.width/2);return this._getDistance()>(this.height/2);};l.prototype._getVelocity=function(m,n){"use strict";return m/n;};l.prototype._getIndexDelta=function(m,n){"use strict";if(!this._touchMoved)return 0;var o=this._crossesMedian(),p=this._isBackSwipe(),q=this._isRecentBackSwipe(m),r=this._getVelocity(this._getRecentScrollDistance(m),this._getRecentTimeDelta(n));if(r>k)return q?0:1;if(o)return p?0:1;return p?1:0;};l.prototype._canAnimate=function(){"use strict";return this.scrolling;};l.prototype._clamp=function(m,n,o){"use strict";return m<n?n:m>o?o:m;};i(l.prototype,{scrolling:false,width:0,height:0,scrollWidth:0,scrollHeight:0,left:0,top:0,minScrollTop:0,minScrollLeft:0,maxScrollTop:0,maxScrollLeft:0,pagesCount:0,pageIndex:0,noThreshold:false,_SPEED_FACTOR:(/android/gi).test(navigator.appVersion)?1:.2,_MAX_TOUCH_MOVE_INTERVAL:220,_SCROLL_START_DELTA:2,_PAGING_DURATION:400,_SCROLLING_DURATION:450,_TENSION_FACTOR:(/android/gi).test(navigator.appVersion)?.4:.95,_TENSION_LIMIT:30,_BOUNCE_FACTOR:.35});e.exports=l;},null);
__d("MScrollArea",["CSS","DOM","ErrorUtils","MJSEnvironment","MScrollAreaScroller","MTouchHelper","Stratcom","StratcomManager","cancelAnimationFrame","copyProperties","ex","getVendorPrefixedName","requestAnimationFrame","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=/Firefox/.test(navigator.userAgent),v=['enableMarauderLogging','infiniteScroller','egoScroller'];function w(x,y){"use strict";var z=y||{};this._enabled=true;this.reflow=this.reflow.bind(this);this._onTouchMove=this._onTouchMove.bind(this);this._onTouchEnd=this._onTouchEnd.bind(this);this._renderScroll=this._renderScroll.bind(this);this._element=x;this._content=x.children[0];this._listeners=[];this._isHorizontal=(z.direction==='horizontal');this._automaticPaging=z.pagingPositions==='auto'&&this._isHorizontal;if(this._automaticPaging)this._automaticPagingStrategy=z.pagingStrategy||'centered';if(this._automaticPaging){z.pagingPositions=this.calculatePagingPositions();z.betweenSpacing=0;}this._scroller=new k(this,z);this._isContainerDraggable=z.containerDraggable;this._betweenSpacing=z.betweenSpacing||0;this._scrollBounds=z.scrollBounds;this._eventData={scrollarea:this,element:x,contentElement:this._content,scrolledByUser:false,container:this._content,scrollEndCount:0,logName:z.logName,logData:z.logData};if(z.showpaginator&&this._isHorizontal)this._paginatorEl=this._element.lastChild;this.reflow();this._renderScroll();this._scrollStart=false;if(z.pageIndex)if(this._isHorizontal){this.scrollTo(this.getScrollWidth()*z.pageIndex,0);}else this.scrollTo(0,this.getScrollWidth()*z.pageIndex);var aa=function(){if(!this._disposed)m.invoke('MScrollArea:create',null,this._eventData);}.bind(this);t(aa,1000);}w.prototype.calculatePagingPositions=function(){"use strict";var x=this._content.offsetWidth,y=this._content.children,z=[0],aa=[y[0].offsetWidth];for(var ba=1,ca=y.length;ba<ca;ba++){var da=y[ba].offsetLeft,ea=y[ba].offsetWidth,fa=da+ea,ga=z[z.length-1];if(fa>ga+x){z.push(da);aa.push(ea);}else aa[aa.length-1]=fa-ga;}if(this._automaticPagingStrategy==='centered')for(ba=1,ca=z.length-1;ba<ca;ba++)z[ba]-=(x-aa[ba])/2;z[z.length-1]-=x-aa[aa.length-1];return z;};w.prototype.dispose=function(){"use strict";if(!this._disposed){o(this._renderID);if(this._paginatorEl)h.setContent(this._paginatorEl,'');this._clearListeners();this._scroller.dispose();for(var x in this)delete this[x];this._disposed=true;}};w.prototype.isTouchMoving=function(){"use strict";return this._scroller.isTouchMoving();};w.prototype.reset=function(){"use strict";if(this._disposed)return;this.scrollTo(0,0);this._updateElementPosition(this._content,0,0);this._updateElementPosition(this._element,0,0);};w.prototype.scrollByPages=function(x){"use strict";if(!this._disposed)this._scroller.scrollByPages(x);};w.prototype.scrollTo=function(x,y){"use strict";if(this._disposed)return;this._scroller.scrollTo(x,y);this._renderScroll();};w.prototype.scrollToIndex=function(x){"use strict";this.reflow();this.scrollTo(this.getScrollWidth()*x,0);};w.prototype.isScrolling=function(){"use strict";return this._scrollStart;};w.prototype.getScrollLeft=function(){"use strict";return this._scroller.left;};w.prototype.getScrollTop=function(){"use strict";return this._scroller.top;};w.prototype.getMaxScrollTop=function(){"use strict";return this._scroller.maxScrollTop;};w.prototype.getMaxScrollLeft=function(){"use strict";return this._scroller.maxScrollLeft;};w.prototype.getScrollWidth=function(){"use strict";return this._scroller.width;};w.prototype.getScrollHeight=function(){"use strict";return this._scroller.height;};w.prototype.getScrollPageCount=function(){"use strict";return this._scroller.pagesCount;};w.prototype.getScrollPageIndex=function(){"use strict";return this._scroller.pageIndex;};w.prototype.isFirstPage=function(){"use strict";return this._scroller.pageIndex===0;};w.prototype.isLastPage=function(){"use strict";return this._scroller.pageIndex+1===this._scroller.pagesCount;};w.prototype.appendChild=function(x){"use strict";this._content.appendChild(x);};w.prototype.prependChild=function(x){"use strict";h.prependContent(this._content,x);};w.prototype.getNumChildren=function(){"use strict";return this._content.children.length;};w.prototype.getChildAtPageIndex=function(x){"use strict";return this._content.children[x];};w.prototype.emptyChildren=function(){"use strict";h.setContent(this._content,null);};w.prototype.getAutomaticPaging=function(){"use strict";return this._automaticPaging;};w.prototype.reflow=function(x){"use strict";if(this._disposed)return;var y=(u&&this._content)?this._content.style:null,z;if(y){z=y.overflow;y.overflow='hidden';}if(x==='auto'&&this._isHorizontal)x=this.calculatePagingPositions();this._scroller.setDimensions(this._element.offsetWidth+(this._isHorizontal?this._betweenSpacing:0),this._element.offsetHeight+(!this._isHorizontal?this._betweenSpacing:0),this._content.scrollWidth,this._content.scrollHeight,x);var aa=Math.min(this._scroller.top,this._scroller.maxScrollTop),ba=Math.min(this._scroller.left,this._scroller.maxScrollLeft);if(aa!==this._scroller.top||ba!==this._scroller.left)this.scrollTo(ba,aa);if(y)y.overflow=z;this._syncPaginator();};w.prototype.onTouchStart=function(x){"use strict";this.reflow();this._scroller.doTouchStart(x);this._clearListeners();if(this._enabled)this._bindListeners();};w.prototype.onClick=function(x){"use strict";if(this._scroller.scrolling)x.kill();};w.prototype.onScrollStart=function(x,y){"use strict";this._scrollStart=true;this._eventData.scrolledByUser=false;m.invoke('MScrollArea:scrollstart',null,this._eventData);if(this._renderSlowly){o(this._renderID);this._renderID=s(this._renderScroll);}};w.prototype.onScroll=function(x,y){"use strict";m.invoke('MScrollArea:scroll',null,this._eventData);if(!this._renderSlowly)this._renderScroll();};w.prototype.onScrollEnd=function(x,y,z){"use strict";this._scrollStart=false;this._syncPaginator();this._eventData.scrollEndCount++;this._eventData.scrolledByUser=z;var aa=null;for(var ba=0;ba<v.length;ba++)if(m.hasSigil(this._element,v[ba])){aa=v[ba];break;}m.invoke('MScrollArea:scrollend',aa,this._eventData);if(this._renderSlowly){o(this._renderID);delete this._renderID;this._renderScroll();}};w.prototype.setEnabled=function(x){"use strict";this._enabled=x;if(!x)this._clearListeners();};w.prototype._bindListeners=function(){"use strict";var x=this._element;this._listeners.push(h.listen(x,l.EVT_TOUCHMOVE,null,this._onTouchMove),h.listen(x,l.EVT_TOUCHEND,null,this._onTouchEnd),h.listen(x,l.EVT_TOUCHCANCEL,null,this._onTouchEnd));};w.prototype._clearListeners=function(){"use strict";for(var x=0,y;y=this._listeners[x];x++)y.remove();this._listeners.length=0;};w.prototype._onTouchMove=function(x){"use strict";m.pass();if(x.getStopped()){this._onTouchEnd();return;}else this._scroller.doTouchMove(x);};w.prototype._onTouchEnd=function(x){"use strict";this._scroller.doTouchEnd(x);this._clearListeners();};w.prototype._renderScroll=function(){"use strict";if(this._disposed)return;if(this._scrollBounds){var x,y;if(this._isHorizontal){x=this._scroller.left;y=this._scroller.minScrollLeft;}else{x=this._scroller.top;y=this._scroller.minScrollTop;}var z,aa=this._scroller.getPagingPositions();if(aa)z=aa[aa.length-1];if(x<y||(z&&x>z))return;}delete this._renderID;var ba=-this._scroller.left,ca=-this._scroller.top;if(this.renderedLeft!==ba||this.renderedTop!==ca){this.renderedLeft=ba;this.renderedTop=ca;var da=this._content,ea=this._isHorizontal?ba:ca,fa=this._isHorizontal?this.getScrollWidth():this.getScrollHeight();if(ea>0&&ea>fa/4)m.invoke('MScrollArea:limit',null,this._eventData);if(this._isContainerDraggable)if(ea<0){this._updateElementPosition(this._element,0,0);}else{da=this._element;this._updateElementPosition(this._content,0,0);}this._updateElementPosition(da,ca,ba);}if(this._renderSlowly&&this._scroller.scrolling)this._renderID=s(this._renderScroll);};w.prototype._updateElementPosition=function(x,y,z){"use strict";var aa=r('transform'),ba=x&&x.style;if(ba)if(aa){ba[r('backface-visibility')]='hidden';ba[aa]='translate('+z+'px,'+y+'px)';}else{ba.left=z+'px';ba.top=y+'px';}};w.prototype._syncPaginator=function(){"use strict";if(this._paginatorEl){var x=h.create('i',{className:'scrollAreaPaginatorBubble'}),y=document.createDocumentFragment(),z=this._scroller.pageIndex;for(var aa=0;aa<this._scroller.pagesCount;aa++){var ba=x.cloneNode(false);if(aa===z)g.conditionClass(ba,'scrollAreaPaginatorBubbleActive',true);y.appendChild(ba);}h.setContent(this._paginatorEl,y);}};p(w.prototype,{_renderSlowly:j.IS_ANDROID&&j.OS_VERSION<4.1});(function(){n.enableDispatch(window,'orientationchange');})();e.exports=w;},null);
__d("InitMScrollArea",["DataStore","MScrollArea","MTouchHelper","Stratcom","ge"],function(a,b,c,d,e,f,g,h,i,j,k){var l='scroll-area',m=[],n=false;function o(){function q(){var u=document.documentElement;for(var v=0,w;w=m[v];v++)if(!u.contains(w.element)){w.scrollArea.dispose();var x=g.get(w.element);delete x.scrollArea;m.splice(v,1);v--;}}j.listen('m:page:unload',null,q);function r(u){var v=g.get(u.getNode(l));v&&v.scrollArea&&v.scrollArea.onTouchStart&&v.scrollArea.onTouchStart(u);}j.listen(i.EVT_TOUCHSTART,l,r);function s(u){for(var v=0,w;w=m[v];v++){var x=w.scrollArea,y=x.getAutomaticPaging(),z=u.getType()==='m:orientation-resize:complete';if(y){var aa=x.getScrollWidth();if(z&&aa===w.width)continue;w.width=aa;}else if(z)continue;x.reflow(y?'auto':null);}}j.listen('m:viewport:orientation-change',null,s);j.listen('m:orientation-resize:complete',null,s);function t(u){var v=g.get(u.getNode(l));v.scrollArea&&v.scrollArea.onClick(u);}j.listenCapture('click',l,t);}function p(q){if(!n){o();n=true;}var r=k(q.id);if(!r)return;var s=g.get(r);if(!s.scrollArea){s.marauderEventName=q.marauderEventName;s.scrollArea=new h(r,s);m.push({scrollArea:s.scrollArea,element:r});}return s.scrollArea;}f.main=p;},null);