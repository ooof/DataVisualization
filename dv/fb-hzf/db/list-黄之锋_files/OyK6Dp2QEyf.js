/*!CK:3901997621!*//*1401172591,178134619*/

if (self.CavalryLogger) { CavalryLogger.start_js(["ul646"]); }

__d("FriendListHeader",["Event","Arbiter","CSS","DOM","Focus","Input","PageTransitions","Parent"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q={init:function(r,s){o=r;p=j.find(o,'.nameInput');var t=h.subscribe('FriendListHeader/initMenu',q.initMenu);m.registerHandler(function(){h.unsubscribe(t);});},initMenu:function(r,s){var t=null;if(s)t=s.subscribe('rename',function(u,v){i.addClass(o,'friendListHeaderEditMode');l.setValue(p,'');k.set(p);});g.listen(o,'click',function(u){if(n.byClass(u.getTarget(),'cancel')){i.removeClass(o,'friendListHeaderEditMode');return;}if(n.byClass(u.getTarget(),'saveButton')&&l.isEmpty(p)){k.set(p);u.preventDefault();}});m.registerHandler(function(){if(s&&t)s.unsubscribe(t);});}};e.exports=q;},null);
__d("FriendListManageMenu",["AsyncRequest","CSS","SelectableMenu"],function(a,b,c,d,e,f,g,h,i){for(var j in i)if(i.hasOwnProperty(j))l[j]=i[j];var k=i===null?null:i.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=i;function l(m,n,o,p){"use strict";if(Array.isArray(m)){var q=n;p=o;o=m;}else{var q={multiple:true};q.id=m;q.className=n;}i.call(this,o,q);this.flid=p;}l.prototype._handleItemClick=function(m,n){"use strict";if(h.hasClass(m.getRoot(),'editName')){this.inform('rename',{item:m});}else if(h.hasClass(m.getRoot(),'chooseUpdateTypes')){h.addClass(this.getRoot(),'updateTypesExpanded');return false;}else if(h.hasClass(m.getRoot(),'selectableUpdateType')){var o=k._handleItemClick.call(this,m,n),p=[];this._items.forEach(function(q){if(h.hasClass(q.getRoot(),'selectableUpdateType')&&q.isSelected())p.push(q.getValue());});new g().setURI('/ajax/friends/lists/subscriptions.php').setData({subs:p,flid:this.flid}).send();return o;}return k._handleItemClick.call(this,m,n);};e.exports=l;},null);
__d("UnicodeByteMaxLength",["Event","DataStore"],function(a,b,c,d,e,f,g,h){function i(j){var k=0;for(var l=0;l<j.length;l++){var m=j.charCodeAt(l);if(m<=127){k+=1;}else if(m<=2047){k+=2;}else if(m<=55193){k+=3;}else if(m>=55296&&m<57344){k+=4;l++;}else if(m<65535)k+=3;}return k;}g.listen(document,'keypress',function(j){var k=j.getTarget(),l=h.get(k,'maxlen');if(l)return i(k.value)<l;});},null);