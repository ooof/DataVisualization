/*!CK:3546409213!*//*1415719938,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["GW8LN"]); }

__d("endsWith",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i,h.length-i.length)>-1;}e.exports=g;},null);
__d("getHashtagRegex",[],function(a,b,c,d,e,f){function g(){var h='\xc0-\xd6'+'\xd8-\xf6'+'\xf8-\xff'+'\u0100-\u024f'+'\u0253-\u0254'+'\u0256-\u0257'+'\u0259'+'\u025b'+'\u0263'+'\u0268'+'\u026f'+'\u0272'+'\u0289'+'\u028b'+'\u02bb'+'\u0300-\u036f'+'\u1e00-\u1eff',i='\u0400-\u04ff'+'\u0500-\u0527'+'\u2de0-\u2dff'+'\ua640-\ua69f'+'\u0591-\u05bf'+'\u05c1-\u05c2'+'\u05c4-\u05c5'+'\u05c7'+'\u05d0-\u05ea'+'\u05f0-\u05f4'+'\ufb12-\ufb28'+'\ufb2a-\ufb36'+'\ufb38-\ufb3c'+'\ufb3e'+'\ufb40-\ufb41'+'\ufb43-\ufb44'+'\ufb46-\ufb4f'+'\u0610-\u061a'+'\u0620-\u065f'+'\u066e-\u06d3'+'\u06d5-\u06dc'+'\u06de-\u06e8'+'\u06ea-\u06ef'+'\u06fa-\u06fc'+'\u06ff'+'\u0750-\u077f'+'\u08a0'+'\u08a2-\u08ac'+'\u08e4-\u08fe'+'\ufb50-\ufbb1'+'\ufbd3-\ufd3d'+'\ufd50-\ufd8f'+'\ufd92-\ufdc7'+'\ufdf0-\ufdfb'+'\ufe70-\ufe74'+'\ufe76-\ufefc'+'\u200c-\u200c'+'\u0e01-\u0e3a'+'\u0e40-\u0e4e'+'\u1100-\u11ff'+'\u3130-\u3185'+'\uA960-\uA97F'+'\uAC00-\uD7AF'+'\uD7B0-\uD7FF'+'\uFFA1-\uFFDC',j=String.fromCharCode,k='\u30A1-\u30FA\u30FC-\u30FE'+'\uFF66-\uFF9F'+'\uFF10-\uFF19\uFF21-\uFF3A'+'\uFF41-\uFF5A'+'\u3041-\u3096\u3099-\u309E'+'\u3400-\u4DBF'+'\u4E00-\u9FFF'+j(173824)+'-'+j(177983)+j(177984)+'-'+j(178207)+j(194560)+'-'+j(195103)+'\u3003\u3005\u303B',l=h+i+k,m='\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6'+'\u00F8-\u0241\u0250-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EE\u037A\u0386'+'\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03CE\u03D0-\u03F5\u03F7-\u0481'+'\u048A-\u04CE\u04D0-\u04F9\u0500-\u050F\u0531-\u0556\u0559\u0561-\u0587'+'\u05D0-\u05EA\u05F0-\u05F2\u0621-\u063A\u0640-\u064A\u066E-\u066F'+'\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710'+'\u0712-\u072F\u074D-\u076D\u0780-\u07A5\u07B1\u0904-\u0939\u093D\u0950'+'\u0958-\u0961\u097D\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0'+'\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1'+'\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33'+'\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D'+'\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD'+'\u0AD0\u0AE0-\u0AE1\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30'+'\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83'+'\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F'+'\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0C05-\u0C0C\u0C0E-\u0C10'+'\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C60-\u0C61\u0C85-\u0C8C'+'\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE'+'\u0CE0-\u0CE1\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D28\u0D2A-\u0D39'+'\u0D60-\u0D61\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6'+'\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88'+'\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7'+'\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6'+'\u0EDC-\u0EDD\u0F00\u0F40-\u0F47\u0F49-\u0F6A\u0F88-\u0F8B\u1000-\u1021'+'\u1023-\u1027\u1029-\u102A\u1050-\u1055\u10A0-\u10C5\u10D0-\u10FA\u10FC'+'\u1100-\u1159\u115F-\u11A2\u11A8-\u11F9\u1200-\u1248\u124A-\u124D'+'\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0'+'\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310'+'\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C'+'\u166F-\u1676\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711'+'\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7'+'\u17DC\u1820-\u1877\u1880-\u18A8\u1900-\u191C\u1950-\u196D\u1970-\u1974'+'\u1980-\u19A9\u19C1-\u19C7\u1A00-\u1A16\u1D00-\u1DBF\u1E00-\u1E9B'+'\u1EA0-\u1EF9\u1F00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D'+'\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC'+'\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC'+'\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u2094\u2102\u2107'+'\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D'+'\u212F-\u2131\u2133-\u2139\u213C-\u213F\u2145-\u2149\u2C00-\u2C2E'+'\u2C30-\u2C5E\u2C80-\u2CE4\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96'+'\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6'+'\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3006\u3031-\u3035'+'\u303B-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF'+'\u3105-\u312C\u3131-\u318E\u31A0-\u31B7\u31F0-\u31FF\u3400-\u4DB5'+'\u4E00-\u9FBB\uA000-\uA48C\uA800-\uA801\uA803-\uA805\uA807-\uA80A'+'\uA80C-\uA822\uAC00-\uD7A3\uF900-\uFA2D\uFA30-\uFA6A\uFA70-\uFAD9'+'\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C'+'\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F'+'\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A'+'\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7'+'\uFFDA-\uFFDC',n='\u0300-\u036F\u0483-\u0486\u0591-\u05B9\u05BB-\u05BD\u05BF'+'\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u0615\u064B-\u065E\u0670'+'\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A'+'\u07A6-\u07B0\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962-\u0963'+'\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7-\u09C8\u09CB-\u09CD\u09D7'+'\u09E2-\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D'+'\u0A70-\u0A71\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD'+'\u0AE2-\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B43\u0B47-\u0B48\u0B4B-\u0B4D'+'\u0B56-\u0B57\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7'+'\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56'+'\u0C82-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5-\u0CD6'+'\u0D02-\u0D03\u0D3E-\u0D43\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D82-\u0D83'+'\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2-\u0DF3\u0E31\u0E34-\u0E3A'+'\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19'+'\u0F35\u0F37\u0F39\u0F3E-\u0F3F\u0F71-\u0F84\u0F86-\u0F87\u0F90-\u0F97'+'\u0F99-\u0FBC\u0FC6\u102C-\u1032\u1036-\u1039\u1056-\u1059\u135F'+'\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B6-\u17D3\u17DD'+'\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8-\u19C9'+'\u1A17-\u1A1B\u1DC0-\u1DC3\u20D0-\u20DC\u20E1\u20E5-\u20EB\u302A-\u302F'+'\u3099-\u309A\uA802\uA806\uA80B\uA823-\uA827\uFB1E\uFE00-\uFE0F'+'\uFE20-\uFE23',o='\u0030-\u0039\u0660-\u0669\u06F0-\u06F9\u0966-\u096F\u09E6-\u09EF'+'\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F'+'\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29'+'\u1040-\u1049\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9'+'\uFF10-\uFF19',p=m+n+l,q=o+'_',r=p+q,s='['+p+']',t='['+r+']',u='^|$|[^&/'+r+']',v='[#\\uFF03]',w='('+u+')('+v+')('+t+'*'+s+t+'*)';return new RegExp(w,'ig');}e.exports=g;},null);
__d("HashtagParser",["URLMatcher","getHashtagRegex"],function(a,b,c,d,e,f,g,h){var i=100,j=30,k=/@\[([0-9]+):([0-9]+):((?:[^\\\]]*(?:\\.)*)*)\]/g;function l(da){var ea=y(da),fa=0,ga=0;return n(da).map(function(ha){while(fa<ea.length){var ia=ea[fa],ja=ia.offset-ga;if(ja<ha.offset){ga+=ia.token.length-ia.name.length;fa++;}else break;}return {marker:ha.marker,tag:ha.hashtag,rawOffset:ha.offset+ga,offset:ha.offset};});}function m(da){return o(da,t(da));}function n(da){var ea=aa(da);return o(ea,p(da,ea));}function o(da,ea){return r(da).slice(0,j).filter(function(fa){var ga=v(fa.offset,fa.hashtag.length,ea);return !ga&&fa.hashtag.length<=i;});}function p(da,ea){return u(s(da),t(ea));}var q=h();function r(da){var ea=[];da.replace(q,function(fa,ga,ha,ia,ja){ea.push({marker:ha,hashtag:ia,offset:ja+ga.length});});return ea;}function s(da){return ba(da).map(function(ea){return [ea.offset,ea.name.length];});}function t(da){var ea=[],fa,ga=0;while((fa=g.permissiveMatch(da))){var ha=da.indexOf(fa);ea.push([ga+ha,fa.length]);da=da.substring(ha+fa.length);ga+=ha+fa.length;}return ea;}function u(da,ea){var fa=[],ga=0,ha=0,ia=0;while(ga<da.length&&ha<ea.length)if(da[ga][0]>ea[ha][0]){fa[ia++]=ea[ha++];}else fa[ia++]=da[ga++];return fa.concat(da.slice(ga),ea.slice(ha));}function v(da,ea,fa){if(!fa)return false;var ga=x(fa,da);return w(da,ea,fa,ga)||w(da,ea,fa,ga+1);}function w(da,ea,fa,ga){if(!fa[ga])return false;var ha=fa[ga][0],ia=fa[ga][1];return !((da+ea-1<ha)||(da>ha+ia-1));}function x(da,ea){var fa=0,ga=da.length-1;while(fa<=ga){var ha=Math.floor((fa+ga)/2),ia=da[ha][0];if(ia==ea){return ha;}else if(ia<ea){fa=ha+1;}else ga=ha-1;}return ga;}function y(da){var ea=[];da.replace(k,function(fa,ga,ha,ia,ja){ea.push({token:fa,id:ga,type:ha,name:ia,offset:ja});});return ea;}function z(da){return da?da.replace(/\\([^\\])/g,'$1').replace(/\\\\/g,'\\'):null;}function aa(da){return da.replace(k,function(ea,fa,ga,ha,ia){return z(ha);});}function ba(da){var ea=0,fa=0;return y(da).map(function(ga){var ha=da.indexOf(ga.token,fa);fa=ha+1;ha-=ea;var ia=z(ga.name);ea+=ga.token.length-ia.length;if(ha>=0)return {id:ga.id,name:ia,type:ga.type,offset:ha};});}var ca={};ca.parse=l;ca.parseWithoutMentions=m;e.exports=ca;},null);
__d("MJSPlaceholder",["DOM","Stratcom"],function(a,b,c,d,e,f,g,h){var i={init:function(j,k){var l=j.getElementsByTagName('textarea')[0];function m(event){if(!l.value){g.show(k);}else g.hide(k);}var n=h.listen('MJSPlaceholder',null,m),o='oninput' in l,p=g.listen(l,o?'input':'change',null,m),q=o?null:g.listen(l,'keyup',null,m);h.listen('m:page:unload',null,function(){h.removeCurrentListener();p.remove();q&&q.remove();n.remove();});}};e.exports=i;},null);
__d("MMentions",["DataStore","DOM","HashtagParser","HTML","MJSEnvironment","MParent","MTouchHelper","MTypeaheadGKs","MViewport","Stratcom","StratcomManager","Style","Vector","copyProperties","debounceCore","getActiveElement","endsWith","mtx","repeatString","setIntervalAcrossTransitions","setTimeoutAcrossTransitions","startsWith"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca={},da=n.mentions_code_cleanup;function ea(ga){var ha=ca[ga];if(!ha){ha=y('<br>\n',ga.length);ca[ga]=ha;}return ha;}function fa(ga,ha){"use strict";this._onBeforeEdit=this._onBeforeEdit.bind(this);this._onEdit=this._onEdit.bind(this);this._onFocusChange=this._onFocusChange.bind(this);this._onQueryResult=this._onQueryResult.bind(this);this._onSuggestionClick=this._onSuggestionClick.bind(this);this._onSuggestionTouch=this._onSuggestionTouch.bind(this);this._onBodyTouch=this._onBodyTouch.bind(this);this._processInput=this._processInput.bind(this);this._sync=this._sync.bind(this);this._syncAndParse=this._syncAndParse.bind(this);this._syncShadow=this._syncShadow.bind(this);this._updatePosition=this._updatePosition.bind(this);this._hideSuggestion=this._hideSuggestion.bind(this);this._hideSuggestionInternal=this._hideSuggestionInternal.bind(this);this._forceInputPosition=this._forceInputPosition.bind(this);this._parse=this._parse.bind(this);this._renderHashtags=this._renderHashtags.bind(this);this._mentionId=ga.id;this._bottomMargin=null;var ia=ga.getElementsByTagName('textarea')[0];this._listeners=[];this._editListeners=[];this._query=null;this._queryResult=null;this._focused=false;this._disabled=false;this._hasHashtags=false;this._ignoreFocusChange=false;this._ignoreFocusChangeTimeout=null;this.shouldShowHashtags=false;this._enforceStringMatch=true;this._typeObjects=null;this._typeObjectsOrder=null;this._uids={};this._weakReferences={};this._source=ha;this._element=ga;this._input=ia;this._queryStringMatcher=/[^\s]+$/;var ja=g.get(this._input);this._initialWeakReferences=ja.initial_weak_references?ja.initial_weak_references:{};this._eventData={input:this._input,hasTags:false};this._shadow=h.create('div',{className:'mentions-shadow','aria-hidden':true},'');if(!da)this._measurer=h.create('div',{className:'mentions-measurer','aria-hidden':true});fa._suggestion=fa._suggestion||h.create('div',{className:'mentions-suggest'});this._hiddenInput=h.create('input',{type:'hidden',name:ia.name,sigil:'mentionsHiddenInput'});ia.removeAttribute('name');h.uniqID(ia);this._syncStyles(this._shadow);if(!da)this._syncStyles(this._measurer);q.enableDispatch(ia,'cut');q.enableDispatch(ia,'paste');q.enableDispatch(ia,'scroll');this._listeners.push(h.listen(ia,'blur',null,this._onFocusChange),h.listen(ia,'focus',null,this._onFocusChange),h.listen(this._input,'scroll',null,this._syncShadow));this._listeners.push(p.listen('MMentions:update',null,this._sync),p.listen('MMentions:reset',null,this._syncAndParse),p.listen('MMentions:disable',null,this._disable.bind(this)),p.listen('MMentions:enable',null,this._enable.bind(this)));if(this._input.form){q.enableDispatch(this._input.form,'reset');this._onSubmit=this._onSubmit.bind(this);this._listeners.push(h.listen(this._input.form,'submit',null,this._onSubmit),h.listen(this._input.form,'reset',null,this._onEdit));}this._listeners.push(p.listen('MMentions:decorations:hide',null,function(event){h.hide(this._shadow);if(!da)h.hide(this._measurer);}.bind(this)));this._listeners.push(p.listen('MMentions:decorations:show',null,function(event){h.show(this._shadow);if(!da)h.show(this._measurer);}.bind(this)));var ka=document.createDocumentFragment();ka.appendChild(this._hiddenInput);ka.appendChild(this._shadow);if(!da)ka.appendChild(this._measurer);ga.appendChild(ka);var la=r.getScrollParent(ga);if(la===window){o.appendNode(fa._suggestion);}else h.appendContent(la,fa._suggestion);if(this._input.value)this._parse(this._input.value);}fa.prototype.dispose=function(){"use strict";if(!this._disposed){while(this._listeners.length)this._listeners.pop().remove();while(this._editListeners.length)this._editListeners.pop().remove();clearTimeout(this._inputTimer);clearTimeout(this._hideSuggestionTimer);clearTimeout(this._forceInputPositionTimer);this._releaseSuggestion();h.remove(this._hiddenInput);h.remove(this._shadow);if(!da)h.remove(this._measurer);h.remove(fa._suggestion);for(var ga in this)delete this[ga];this._allowScrollEvents();this._disposed=true;}};fa.prototype.setTypeObjects=function(ga){"use strict";this._typeObjects=ga;};fa.prototype.setTypeObjectsOrder=function(ga){"use strict";this._typeObjectsOrder=ga;};fa.prototype.disableStringMatch=function(){"use strict";this._enforceStringMatch=false;};fa.prototype.insertMention=function(ga){"use strict";var ha=ga.name+this._NAME_SUFFIX,ia=this._uids[ha],ja=this._input,ka=ja.value;if(!ia)ia=this._uids[ha]=[];if(ia.indexOf(ga.uid)===-1){ia.push(ga.uid);}else{ja.focus();this._ignoreScrollEvent();return;}var la=ja.selectionStart,ma=ja.selectionEnd,na=ka.substring(0,la),oa=ka.substr(ma+1);ja.value=na+ha+' '+oa;var pa=ja.value.length-oa.length;if(k.IS_APPLE_WEBKIT_IOS){this.setIgnoreFocusChange(true);ja.blur();ja.focus();this.setIgnoreFocusChange(false);}ja.setSelectionRange(pa,pa);p.invoke('MJSPlaceholder');ja.focus();this._ignoreScrollEvent();this._tagsUpdated();this._sync();};fa.prototype._getExpandElement=function(){"use strict";return l.bySigil(this._element,'m-mentions-expand')||this._element;};fa.prototype._onSubmit=function(){"use strict";var ga=this._input.value,ha=z(function(){if(this._disposed){clearInterval(ha);}else if(this._input.value!==ga){this._sync();clearInterval(ha);}}.bind(this),100);aa(function(){clearInterval(ha);},10000);};fa.prototype._onFocusChange=function(ga){"use strict";if(this._suggestionShown&&this._ignoreFocusChange)return;switch(ga.getType()){case 'focus':if(ga.getTarget()===this._input){this._focus();}else this._blur();break;default:this._blur();break;}};fa.prototype._focus=function(){"use strict";if(this._focused)return;this._focused=true;if(!this._editListeners.length){var ga=fa._suggestion,ha=this._SUGGESTION_SIGIL,ia=this._updatePosition.bind(this);if(da)ia=u(ia,200);this._editListeners.push(p.listen('scroll',null,function(event){var ja=event.getTarget();if(da&&ja===this._shadow)return;ia(event);if(!this._ignoreScroll)this.setIgnoreFocusChange(false);}.bind(this)),this._source.listen('waiting',this._hideSuggestion),this._source.listen('resultsready',this._onQueryResult),h.listen(this._input,'touchmove',null,this._syncShadow),h.listen(this._input,'keydown',null,this._onBeforeEdit),h.listen(this._input,'keyup',null,this._onEdit),h.listen(this._input,'input',null,this._onEdit),h.listen(this._input,'cut',null,this._onEdit),h.listen(this._input,'paste',null,this._onEdit),h.listen(document.body,m.EVT_TOUCHSTART,null,this._onBodyTouch),h.listen(this._input,m.EVT_TOUCHSTART,null,this._hideSuggestion),h.listen(ga,m.EVT_TOUCHEND,ha,this._onSuggestionTouch),h.listen(ga,m.EVT_TOUCHSTART,ha,this._onSuggestionTouch),h.listen(ga,'click',ha,this._onSuggestionClick));}if(!this._source._startedByMentions){this._source._startedByMentions=true;this._source.didChange('');this._source.didStart();}this._hideSuggestion();clearTimeout(this._forceInputPositionTimer);this._forceInputPositionTimer=aa(this._forceInputPosition,100);this._sync();};fa.prototype._blur=function(){"use strict";if(!this._focused||v()===this._input)return;delete this._focused;while(this._editListeners.length)this._editListeners.pop().remove();clearTimeout(this._forceInputPositionTimer);clearTimeout(this._inputTimer);delete this._forceInputPositionTimer;this._clearBottomMargin();this._hideSuggestion(true);this._sync();};fa.prototype._forceInputPosition=function(){"use strict";var ga=this._input.getBoundingClientRect(),ha=o.getHeight();if(ga.top<0||ga.top>ha){this._forceInputPositionTimer=aa(this._forceInputPosition,16);return;}if(v()!==this._input){this._blur();return;}};fa.prototype.setIgnoreFocusChange=function(ga){"use strict";this._ignoreFocusChange=ga;};fa.prototype._onSuggestionTouch=function(event){"use strict";if(!this._suggestionShown){event.prevent();return;}if(da){var ga=o.getScroll(),ha=window;ha.scrollTo(ga.x,ga.y);this._ignoreScrollEvent();}this.setIgnoreFocusChange(true);};fa.prototype._onSuggestionClick=function(event){"use strict";if(!this._suggestionShown){event.prevent();return;}this.setIgnoreFocusChange(false);var ga=event.getNode(this._SUGGESTION_SIGIL);this._onSuggestionSelect(this._queryResult[ga.queryIndex]);this._hideSuggestion(true);this._input.focus();this._ignoreScrollEvent();};fa.prototype._onBodyTouch=function(event){"use strict";var ga=event.getTarget();if(fa._suggestion===ga||this._element===ga||this._element.contains(ga)||fa._suggestion.contains(ga))return;this._blur();};fa.prototype._onSuggestionSelect=function(ga){"use strict";var ha=this._input,ia=ha.selectionStart;if(ia!==ha.selectionEnd)return;var ja=ha.value,ka=this._query,la=ga.display,ma=this._createRegex(la,'i'),na=this._createRegex(ka,'i'),oa=la+this._NAME_SUFFIX,pa,qa,ra=ja.substring(ia-ka.length,ia);if(!na.test(ra))return;if(ma.test(ja.substring(ia-la.length,ia))){pa=ja.substring(0,ia-la.length);}else if(na.test(ja)){var sa=ra.substr(-ka.length);if(sa===ka){pa=ja.substring(0,ia-ka.length);var ta='';for(var ua=0,va=oa.length;ua<va;ua++){ta+=oa.charAt(ua);if(w(pa,ta))break;}if(w(pa,' '+ta)||pa===ta)pa=pa.substr(0,pa.lastIndexOf(ta));}else return;}else return;if(pa&&pa.charAt(pa.length-1)==='@')pa=pa.slice(0,-1);qa=pa+oa+ja.substring(ia);ha.value=qa;ia+=qa.length-ja.length;if(k.IS_APPLE_WEBKIT_IOS){this.setIgnoreFocusChange(true);ha.blur();ha.focus();this._ignoreScrollEvent();this.setIgnoreFocusChange(false);}ha.setSelectionRange(ia,ia);var wa=this._uids[oa];if(!wa)wa=this._uids[oa]=[];if(wa.indexOf(ga.uid)===-1){wa.push(ga.uid);this._tagsUpdated();}if(ga.getAttribute('weak_reference'))this._weakReferences[ga.uid]=true;this._sync();};fa.prototype._hideSuggestion=function(ga){"use strict";if(this._suggestionShown){delete this._suggestionShown;clearTimeout(this._hideSuggestionTimer);if(ga===true){delete this._hideSuggestionTimer;this._hideSuggestionInternal();}else this._hideSuggestionTimer=aa(this._hideSuggestionInternal,350);}};fa.prototype._hideSuggestionInternal=function(){"use strict";delete this._hideSuggestionTimer;if(this._isInstanceSuggestion()){this._releaseSuggestion();h.hide(fa._suggestion);h.setContent(fa._suggestion,'');}this._input.removeAttribute('spellcheck');this._input.removeAttribute('autocapitalize');this._input.removeAttribute('autocorrect');this._clearBottomMargin(true);};fa.prototype._clearBottomMargin=function(ga){"use strict";clearTimeout(this._clearBottomMarginTimer);if(!da||ga){this._clearBottomMarginInternal();return;}this._clearBottomMarginTimer=setTimeout(this._clearBottomMarginInternal.bind(this),500);};fa.prototype._clearBottomMarginInternal=function(){"use strict";var ga=this._getExpandElement();ga.style.marginBottom=this._bottomMargin||'';};fa.prototype._assignSuggestion=function(){"use strict";g.get(fa._suggestion).mentionId=this._mentionId;};fa.prototype._releaseSuggestion=function(){"use strict";g.get(fa._suggestion).mentionId=null;};fa.prototype._isInstanceSuggestion=function(){"use strict";return g.get(fa._suggestion).mentionId===this._mentionId;};fa.prototype._showSuggestion=function(){"use strict";this._assignSuggestion();if(this._suggestionShown)return;this._suggestionShown=true;var ga=this._input,ha=fa._suggestion;r.apply(ha,{display:'block',width:ga.offsetWidth+'px'});ga.setAttribute('spellcheck','false');ga.setAttribute('autocapitalize','off');ga.setAttribute('autocorrect','off');clearTimeout(this._clearBottomMarginTimer);if(this._bottomMargin===undefined)this._bottomMargin=this._getExpandElement().style.marginBottom;var ia=fa._MIN_DISTANCE,ja=ga.getBoundingClientRect(),ka=document.elementFromPoint(1,ja.bottom+ia);if(!ka||(da&&ka===document.documentElement)){var la=o.getScroll();this._getExpandElement().style.marginBottom=ia+'px';o.scrollTo(la.x,Math.max(la.y,la.y+ja.top-30));this._ignoreScrollEvent();}if(this._hideSuggestionTimer){clearTimeout(this._hideSuggestionTimer);delete this._hideSuggestionTimer;}};fa.prototype._allowScrollEvents=function(){"use strict";clearTimeout(this._ignoreScroll);delete this._ignoreScroll;};fa.prototype._ignoreScrollEvent=function(){"use strict";if(!da)return;clearTimeout(this._ignoreScroll);this._ignoreScroll=setTimeout(this._allowScrollEvents.bind(this),200);};fa.prototype._updatePosition=function(){"use strict";if(!this._suggestionShown)return;var ga=fa._suggestion,ha=ga.offsetHeight,ia=this._input,ja=ia.offsetHeight,ka=s.getElementPosition(ia),la=ia.getBoundingClientRect(),ma=ga.offsetParent,na;if(ma===document.documentElement){na=new s(0,0);}else na=s.getElementPosition(ma);var oa=la.left-na.x,pa=ka.y-na.y,qa=o.getHeight()/2,ra=oa,sa=pa+ja,ta=la.bottom+ha>qa&&la.top-ha>=0;if(ta)sa=pa-ha;r.apply(ga,{left:ra+'px',top:sa+'px'});};fa.prototype._onBeforeEdit=function(event){"use strict";if(!this._focused)return;if(this._inputTimer)clearTimeout(this._inputTimer);switch(event.getRawEvent().keyCode){case 8:this._onBackSpaceKey(event);break;}};fa.prototype._onEdit=function(event){"use strict";if(this._inputTimer)clearTimeout(this._inputTimer);switch(event.getRawEvent().keyCode){case 13:this._hideSuggestion();this._syncShadow();return;default:this._sync();this._inputTimer=aa(this._processInput,160);}};fa.prototype._onBackSpaceKey=function(event){"use strict";var ga=this._input,ha=ga.selectionStart;if(ha!==ga.selectionEnd)return;var ia=ga.value,ja=this._getTokenByCursorPosition(ha-1);if(ja){var ka=ia.substring(0,ha),la=ja.name;if(ka.indexOf(la)===(ka.length-la.length)){var ma;if(fa._CJK_ALTER_NAME.test(la)){ma=this._trim(la.replace(fa._CJK_ALTER_NAME,''));}else if(fa._LATIN_ALTER_NAME.test(la)){ma=this._trim(la.replace(fa._LATIN_ALTER_NAME,''));}else{var na=la.split(/\s+/g);if(na.length>1){na.pop();ma=na.join(' ');}}if(ma){ma+=this._NAME_SUFFIX;this._uids[la].splice(this._uids[la].indexOf(ja.uid),1);this._uids[ma]=this._uids[ma]||[];this._uids[ma].push(ja.uid);ia=ia.substr(0,ha-la.length)+ma+ia.substr(ha);ha-=(la.length-ma.length);ga.value=ia;ga.setSelectionRange(ha,ha);event.prevent();this._sync();return;}}}var oa;while(true){var pa=ia.charAt(ha-1);if(pa==='\u200B'){ia=ia.substring(0,ha-2)+ia.substr(ha);ha-=1;oa=true;}else break;}if(oa){event.prevent();ia=ia.substring(0,ha-2)+ia.substr(ha);ga.value=ia;}};fa.prototype._processInput=function(){"use strict";if(this._disabled)return;this._sync();this._onQueryResult(null,null);this._hideSuggestion();this._query=null;this._inputTimer=null;var ga=this._input,ha=ga.value,ia=ga.selectionStart;if(ia!==ga.selectionEnd)return;var ja=ha.charAt(ia);if(ja&&!(/\s/).test(ja))return;var ka=ga.value.substr(0,ia),la=ka.match(this._queryStringMatcher);if(!la)return;var ma=la[0],na;if(ma.charAt(0)==='@'){ma=ma.slice(1);na=ma.length>0;}else na=ma.length>2&&(fa._EN_NAMES.test(ma)||fa._JP_SYLLABARY_CHARS.test(ma)||fa._CJK_CHARS.test(ma));var oa=ka.lastIndexOf('@');if(oa>-1){ma=ka.substr(oa+1);na=true;}na=na&&!this._getTokenByCursorPosition(ia);if(na){this._query=ma;this._source.didChange(ma);this._source.didStart();}};fa.prototype._onQueryResult=function(ga){"use strict";var ha=ga&&ga.length>0,ia=this._query&&this._input.value.indexOf(this._query)>=0;if(!ia||!ha||this._disposed)return;this._hideSuggestion();this._queryResult=null;if(this._enforceStringMatch&&!this._createRegex(this._query,'ig').test(ga[0].display))return;var ja=[],ka=document.createDocumentFragment(),la=0,ma={};for(var na in this._uids){var oa=this._uids[na];for(var pa=0,qa=oa.length;pa<qa;pa++)ma[oa[pa]]=true;}var ra=function(za){if(!ma[za.uid]){za.htmlFor=this._input.id;p.addSigil(za,this._SUGGESTION_SIGIL);p.addSigil(za,'touchable');g.set(za,{nativeClick:true});za.queryIndex=la;ka.appendChild(za);ja[la]=za;la++;if(la>5)return true;}};if(this._typeObjects&&this._typeObjectsOrder){var sa={};for(var ta=0;ta<ga.length;ta++){var ua=ga[ta].getAttribute('renderType');if(!ua)continue;if(!(ua in sa))sa[ua]=[];sa[ua].push(ga[ta]);}for(var va=0;va<this._typeObjectsOrder.length;va++){ua=this._typeObjectsOrder[va];var wa=this._typeObjects[ua],xa=sa[ua],ya=xa?xa.filter(function(za){return !ma[za.uid];}):[];if(ya.length>0){ka.appendChild(this._buildSectionHeader(wa));ya.some(ra,this);}else if(wa.show_always){ka.appendChild(this._buildSectionHeader(wa));ka.appendChild(this._buildNoResultEntry());}}}else ga.some(ra,this);if(la){h.setContent(fa._suggestion,'');this._queryResult=ja;fa._suggestion.appendChild(ka);this._showSuggestion();this._updatePosition();}};fa.prototype._buildSectionHeader=function(ga){"use strict";if(ga==null)return null;return (new j(ga.xhp)).getFragment().firstChild;};fa.prototype._buildNoResultEntry=function(){"use strict";var ga=h.create('i',{className:'mentions-suggest-item-img noResultsIcon'}),ha=h.create('span',{className:'no-results'},"\u65e0\u7ed3\u679c"),ia=h.create('label',{className:'mentions-suggest-item'},ga,ha);ia.appendChild(ga);ia.appendChild(ha);return ia;};fa.prototype._syncAndParse=function(){"use strict";if(!this._disposed&&!this._disabled){if(this._input&&this._input.value)this._parse(this._input.value);this._sync();}};fa.prototype._sync=function(){"use strict";if(!this._disposed&&!this._disabled){this._syncMentionedUIDs();this._syncHashtags();this._syncShadow();if(!da)this._syncMeasurer();this._syncValue();}};fa.prototype._disable=function(ga){"use strict";this._disabled=true;};fa.prototype._enable=function(){"use strict";this._disabled=false;};fa.prototype._parse=function(ga){"use strict";this._uids={};var ha=/[0-9]+/,ia=/^@\[(?:[0-9]+:){2}(.+)\]/,ja=ga.match(fa._MENTIONS_REGEX);if(ja){for(var ka=0;ka<ja.length;ka++){var la=ja[ka].match(ha),ma=ja[ka].match(ia);ma=ma?ma[1].replace(/\\([^\\])/g,'$1').replace(/\\\\/g,'\\'):null;if(!ma)continue;if(!this._uids[ma])this._uids[ma]=[];this._uids[ma].push(la);ga=ga.replace(ja[ka],ma);}this._input.value=ga;}this._sync();};fa.prototype._syncMentionedUIDs=function(){"use strict";var ga=this._input.value;if(!ga){this._uids={};return;}var ha=false;for(var ia in this._uids){var ja=this._createRegex(ia,'g'),ka=ga.match(ja);if(!ka||!ka.length){delete this._uids[ia];ha=true;continue;}var la=this._uids[ia];if(!la.length){delete this._uids[ia];}else if(la.length>ka.length)la.length=ka.length;}if(ha)this._tagsUpdated();};fa.prototype._syncHashtags=function(){"use strict";var ga=this._input.value;if(this.shouldShowHashtags)this._hasHashtags=fa._HASHTAG_TRIGGER.test(ga);};fa.prototype._renderHashtags=function(ga){"use strict";if(!this._hasHashtags)return h.htmlize(ga);var ha=i.parseWithoutMentions(ga),ia=[],ja=0;for(var ka=0;ka<ha.length;ka++){ia.push(h.htmlize(ga.substring(ja,ha[ka].offset)),'<span class="mentions-highlight">',ga.charAt(ha[ka].offset),ha[ka].hashtag,'</span>');ja=ha[ka].offset+ha[ka].hashtag.length+1;}ia.push(h.htmlize(ga.substring(ja)));return ia.join('');};fa.prototype._syncShadow=function(ga){"use strict";var ha=this._input,ia=ha.value,ja=this._shadow;if(!ia){h.setContent(ja,'');this._syncSelectionRange();return;}if(ga&&(ga.getType()==='scroll'||ga.getType()==='touchmove')){ja.scrollTop=ha.scrollTop;ja.scrollLeft=ha.scrollLeft;this._syncSelectionRange();return;}var ka='\u200B{\u200B',la='\u200B}',ma='\u200B{\u200B\u200B}',na,oa=function(va,wa){var xa=this._uids[va][na],ya=this._weakReferences[xa]||this._initialWeakReferences[xa];na++;return ((ya?ma:ka)+wa+ka);};for(var pa in this._uids){var qa=this._createRegex(pa,'g');na=0;ia=ia.replace(qa,oa.bind(this,pa));}var ra=ia.split(ka),sa=[],ta=false;for(var ua=0;ua<ra.length;ua++){if(ta){if(ba(ra[ua],la)){sa.push('<span class="mentions-highlight-weak-reference">',h.htmlize(ra[ua].substr(la.length)),'</span>');}else sa.push('<span class="mentions-highlight">',h.htmlize(ra[ua]),'</span>');}else sa.push(this._renderHashtags(ra[ua]));ta=!ta;}ia=sa.join('');ia=ia.replace(/\n+$/,ea);if(this._shadowHTML!==ia){this._shadowHTML=ia;ja.innerHTML=ia;}ja.scrollTop=ha.scrollTop;ja.scrollLeft=ha.scrollLeft;this._syncSelectionRange();};fa.prototype._syncSelectionRange=function(){"use strict";if(!da||v()!==this._input)return;var ga=this._input.selectionStart,ha=this._input.selectionEnd;this._input.setSelectionRange(Math.abs(ga-1),Math.abs(ha-1));this._input.setSelectionRange(ga,ha);};fa.prototype._syncMeasurer=function(){"use strict";if(da)return;var ga=this._input,ha=ga.value;if(!ha){h.setContent(this._measurer,'');return;}var ia=ga.selectionStart,ja=ga.selectionEnd;if(ia!==ja)return;var ka=h.create('div',{},ga.value.substr(0,ia));this._measurer.innerHTML=ka.innerHTML+'<br><div></div>';};fa.prototype._syncValue=function(){"use strict";var ga=this._input.value;for(var ha in this._uids){var ia=this._createRegex(ha,'g'),ja=this._uids[ha],ka=0;ga=ga.replace(ia,function(la){var ma=parseInt(ja[ka++],10);if(ma){return '@['+ma+':'+la+']';}else return la;});}ga=ga.replace(/\u200B/g,'');this._hiddenInput.value=ga;};fa.prototype._syncStyles=function(ga){"use strict";var ha=getComputedStyle(this._input,null),ia=ga.style,ja=['fontSize','fontFamily','letterSpacing','lineHeight','paddingTop','paddingLeft','paddingRight','paddingBottom','textIndent','wordSpacing'];while(ja.length){var ka=ja.pop();ia[ka]=ha[ka];}};fa.prototype._getTokenByCursorPosition=function(ga){"use strict";var ha=this._input.value,ia=null,ja=this._uids;for(var ka in ja){if(ia)break;var la=ha.indexOf(ka);if(la<0)continue;var ma=this._createRegex(ka,'g'),na=0;ha.replace(ma,function(oa,pa){if(!ia&&ga>pa&&ga<pa+oa.length)ia={name:ka,uid:ja[ka][na]};na++;});}return ia;};fa.prototype._trim=function(ga){"use strict";return ga.trim?ga.trim():ga.replace(/(^\s*)|(\s*$)/g,'');};fa.prototype._createRegex=function(ga,ha){"use strict";ga=ga.replace(fa._REGEX_SPECIAL_CHARS,'\\$&');return new RegExp(ga,ha);};fa.prototype._tagsUpdated=function(){"use strict";this._eventData.hasTags=Object.keys(this._uids).length>0;this._eventData.numTags=Object.keys(this._uids).length;p.invoke('MMentions:change',null,this._eventData);};t(fa,{_MENTIONS_REGEX:/@\[([0-9]+)\:(([^\\\]]*(?:\\.)*)*)\]/g,_EN_NAMES:/^[A-Z][a-z]{1}/,_CJK_ALTER_NAME:/\uff08[^\uff09]+\uff09(\u200B\u200B)?$/g,_LATIN_ALTER_NAME:/\([^\)]+\)(\u200B\u200B)?$/g,_JP_SYLLABARY_CHARS:/(^[\u3040-\u309F]{3,3})|(^[\u30A0-\u30FF]{3,3})/g,_CJK_CHARS:/^[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF]{2,2}/g,_REGEX_SPECIAL_CHARS:/[\/\.\*\+\?\}\(\)\[\]\{\}\\]/g,_HASHTAG_TRIGGER:/[#\uFF03]/,_MIN_DISTANCE:da?200:130});t(fa.prototype,{_NAME_SUFFIX:'\u200B\u200B',_SUGGESTION_SIGIL:'mentionsSuggestionItem',_COMPOSER_SIGIL:'composer-textarea'});e.exports=fa;},null);
__d("MMentionsRenderer",["DOM"],function(a,b,c,d,e,f,g){var h={createSuggestionNode:function(i){var j=g.create('img',{src:i.photo,className:'mentions-suggest-item-img'}),k=g.create('div',{className:'mentions-suggest-item-text'});k.appendChild(g.create('span',{className:'mentions-suggest-item-name'},i.display));if(i.subtext){var l=i.subtext;if(i.type&&(i.type!='user'))l=l?i.type+' \u00b7 '+l:i.type;k.appendChild(g.create('span',{className:'mentions-suggest-item-subtext'},l));}var m=g.create('label',{className:'mentions-suggest-item',display:i.display,uid:i.id,rel:i.id,photo:i.photo,subtext:i.subtext},j,k);m.appendChild(j);m.appendChild(k);if(i.weak_reference)m.setAttribute('weak_reference','y');if(i.renderType)m.setAttribute('renderType',i.renderType);return m;}};e.exports=h;},null);
__d("MTypeaheadTouchSourceShowOnFocus",["MRequest","MTypeaheadTouchSource"],function(a,b,c,d,e,f,g,h){var i=5;for(var j in h)if(h.hasOwnProperty(j))l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(m,n){"use strict";this.uri=m;h.call(this,m,n);this._bootstrapData=[];}l.prototype.updateBootstrapData=function(m){"use strict";var n=new g(this.uri);n.addData({existing_fields_json:JSON.stringify(m)});n.setMethod('POST');n.listen('done',function(o){this._bootstrapData=[];if(o.payload!==undefined)this.ondata(o.payload);}.bind(this));n.send();};l.prototype.showOnFocus=function(){"use strict";var m=this.renderNodes(null,this._bootstrapData);this.invoke('resultsready',m);this.invoke('complete');};l.prototype.ondata=function(m){"use strict";h.prototype.ondata.call(this,m);var n=Math.min(m.length,i);for(var o=0;o<n;++o)if(m[o].uid)this._bootstrapData.push(m[o].uid);};e.exports=l;},null);
__d("MMentionsBootstrapDataSource",["MMentionsRenderer","MTypeaheadTouchSourceShowOnFocus"],function(a,b,c,d,e,f,g,h){for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(l,m){"use strict";h.call(this,l,m);}k.prototype.createNode=function(l){"use strict";return g.createSuggestionNode(l);};e.exports=k;},null);
__d("MMentionsOnDemandDataSource",["MMentionsRenderer","MTypeaheadOnDemandSource"],function(a,b,c,d,e,f,g,h){for(var i in h)if(h.hasOwnProperty(i))k[i]=h[i];var j=h===null?null:h.prototype;k.prototype=Object.create(j);k.prototype.constructor=k;k.__superConstructor__=h;function k(l){"use strict";h.call(this,l);}k.prototype.createNode=function(l){"use strict";return g.createSuggestionNode(l);};e.exports=k;},null);
__d("InitMMentions",["MMentions","MMentionsBootstrapDataSource","MMentionsOnDemandDataSource","Stratcom","TypeaheadCompositeSource","DataStore"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={},n={},o={},p={main:function(q){var r=q.element;if(!r)return;if(!r.getBoundingClientRect)return;var s=[],t=q.sources.bootstrapped||[],u=q.sources.online||[],v=q.typeObjects,w=q.typeObjectsOrder,x=null,y='|',z='',aa=[];t.forEach(function(ca){x=new h(ca.src,ca.source_key);var da=ca.source_key+y+ca.src;if(!m[da])m[da]=x;s.push(m[da]);aa.push(da);});u.forEach(function(ca){var da=y+ca.src;if(!n[da])n[da]=new i(ca.src);s.push(n[da]);aa.push(da);});if(!s.length)return;z=aa.join(y);if(!(z in o))o[z]=new k(s);var ba=new g(r,o[z]);ba.setTypeObjects(v);ba.setTypeObjectsOrder(w);ba.shouldShowHashtags=q.shouldShowHashtags;if(!q.enforceStringMatch)ba.disableStringMatch();l.set(r,{mentionsInstance:ba});j.listen('m:page:unload-complete',null,function(event){if(!document.documentElement.contains(r)){j.removeCurrentListener();ba.dispose();ba=null;r=null;}});}};e.exports=p;},null);