/*!CK:1780907846!*//*1415719565,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["nbAkk"]); }

__d("MVideoChat",["MRequest","Stratcom","MURI"],function(a,b,c,d,e,f,g,h,i){var j=function(k){h.listen('video',null,function(event){var l=event.getData();if(l.message_type==1){var m=k.uri,n=new g(new i(m).setAsync(true).toString()),o={callId:l.parameters.callId,skypeId:l.parameters.skypeIdCallee,idTarget:l.from,data:'client_not_supported'};n.setData(o);n.send();}});};f.main=j;},null);
__d("MInitJewelCounts",["Stratcom"],function(a,b,c,d,e,f,g){var h=function(i){g.invoke('m:jewels:init-counts',null,i);};f.main=h;},null);
__d("MJewel",["setTimeoutAcrossTransitions","CSS","DOM","MHistory","MJSEnvironment","MLogState","MTabbable","MViewport","Popover","Stratcom","$","copyProperties","eventsMixinDeprecated"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=10;function u(v,w,x){"use strict";this._sigil=v;this._marauderModuleName=x;this.options=w||{};this._jewelNode=q(u.JEWEL_NAV_NODE_ID);this._softState=w.softState||'jewel='+(u.nextID++);this._duringInit=false;this._previousScrollingPoint=null;this._createPopover();p.listen('m:history:change',null,function(event){if(event.getData().soft===this._softState){this._popover&&this._popover.open();}else this._popover&&this._popover.close();}.bind(this));}u.prototype.isInitialized=function(){"use strict";var v=this.options.contentsSigil||'contents';return !!i.scry(this._jewelNode,'*',v)[0];};u.prototype._getJewelElement=function(){"use strict";return i.find(this._jewelNode,'div',this._sigil);};u.prototype._getCountElement=function(){"use strict";return i.find(this._getJewelElement(),'span','count');};u.prototype._getContentsElement=function(){"use strict";var v=this.options.contentsSigil||'contents';return i.find(this._getJewelElement(),'*',v);};u.prototype._getFlyoutElement=function(){"use strict";return i.find(this._getJewelElement(),'*','flyout');};u.prototype.getCount=function(){"use strict";return this._count;};u.prototype.setDuringInit=function(v){"use strict";this._duringInit=v;};u.prototype._updateCountElement=function(){"use strict";var v=this._getJewelCount();i.setContent(this._getCountElement(),''+v);var w=this._getJewelElement(),x=this._count>0;h.conditionClass(w,'noCount',!x);h.conditionClass(w,'hasCount',x);if(!this._duringInit&&this.options.mJewelMarauderLogger)this._logMarauderEvent('updated');};u.prototype.setCount=function(v){"use strict";if(v<0)return;this._count=v;this._updateCountElement();};u.prototype.handleViewedContent=function(){"use strict";if(this.getCount()>0&&this.isInitialized()){this.setCount(0);this.invoke('cleared');}else this.invoke('jewel_click');};u.prototype.setMenuContent=function(v){"use strict";i.setContent(this._getFlyoutElement(),v);if(this.isOpen())this.handleViewedContent();};u.prototype.prependMenuContent=function(v){"use strict";i.prependContent(this._getContentsElement(),v);};u.prototype.removeMenuContent=function(v){"use strict";var w=document.getElementById(v);if(w)i.remove(w);};u.prototype.updateMenuColor=function(v,w,x){"use strict";x?g(this._updateMenuColor.bind(this,v,w),u.MARK_READ_DELAY):this._updateMenuColor(v,w);};u.prototype._updateMenuColor=function(v,w){"use strict";var x=document.getElementById(v);if(x){h.conditionClass(x,u.M_AREA_LIGHTBLUE,!w);h.conditionClass(x,u.M_AREA_WHITE,w);}};u.prototype._createPopover=function(){"use strict";var v=this._getJewelElement(),w=i.find(v,'div','flyout');this._popover=new o({button:i.find(v,'*','icon'),flyout:w,ensureVisible:!this.options.heightConstraint,touchstart_callback:(this.options.mJewelMarauderLogger?this._onTouchStart.bind(this):null),touchmove_callback:(this.options.mJewelMarauderLogger?this._onTouchMove.bind(this):null),touchend_callback:(this.options.mJewelMarauderLogger?this._onTouchEnd.bind(this):null),heightConstraint:this.options.heightConstraint,preventClose:this.options.preventClose});this._onOpenListener=this._popover.listen('open',this._onOpen.bind(this));this._onCloseListener=this._popover.listen('close',this._onClose.bind(this));this._popoverClickListener=i.listen(w,'click',null,this._onPopoverClick.bind(this));if(k.IS_ANDROID&&k.GET_OS_VERSION>=4)this._scrollAreaNode=i.scry(w,'div','scroll-area')[0];};u.prototype.clear=function(){"use strict";this._onOpenListener&&this._onOpenListener.remove();this._onCloseListener&&this._onCloseListener.remove();this._popoverClickListener&&this._popoverClickListener.remove();this._popoverTouchStartListener&&this._popoverTouchStartListener.remove();this._touchMoveListener&&this._touchMoveListener.remove();this._touchStartListener&&this._touchStartListener.remove();this._popover&&this._popover.clear();};u.prototype._onPopoverClick=function(event){"use strict";l.updateLink(event,this.options.pos);this.options.clickCallback&&this.options.clickCallback(event);if(this.options.mJewelMarauderLogger)this._logMarauderEvent('clicked',event);var v=event.getNode('popover-interactive');!v&&this._popover.close();};u.prototype._onPopoverTouchStart=function(event){"use strict";event.kill();};u.prototype._getJewelCount=function(){"use strict";if(this._count>0){return this._count;}else return this._unreadCount;};u.prototype._onOpen=function(){"use strict";if(this._scrollAreaNode){n.scrollToHeader();var v=document.documentElement;h.conditionClass(v,'hide-scroll',true);this._scrollAreaNode.style.maxHeight=v.offsetHeight-200+'px';}var w=this._getJewelCount();j.pushSoftState(this._softState);this.handleViewedContent();if(this.options.mJewelMarauderLogger)this.options.mJewelMarauderLogger.toggleModule(this._marauderModuleName,true,{jewel_count:w});p.invoke('m:jewel:flyout:open');h.conditionClass(this._getJewelElement(),'popoverOpen',true);var x=i.find(this._getJewelElement(),'div','flyout');m.focusTabbable(x);};u.prototype._onClose=function(){"use strict";if(this._scrollAreaNode){this._scrollAreaNode.style.minHeight='';h.conditionClass(document.documentElement,'hide-scroll',false);}p.invoke('m:jewel:flyout:close');h.conditionClass(this._getJewelElement(),'popoverOpen',false);if(this.options.mJewelMarauderLogger)this.options.mJewelMarauderLogger.toggleModule(this._marauderModuleName,false);j.popSoftState(this._softState);};u.prototype._onTouchStart=function(v){"use strict";this._previousScrollingPoint=v;};u.prototype._onTouchMove=function(v){"use strict";if(!this._previousScrollingPoint)return;var w=v.x-this._previousScrollingPoint.x,x=v.y-this._previousScrollingPoint.y,y=Math.sqrt(Math.abs(w)+Math.abs(x));if(y>=t){this._previousScrollingPoint=v;this._logMarauderEvent('scroll',{x:w,y:x});}};u.prototype._onTouchEnd=function(v){"use strict";this._previousScrollingPoint=null;};u.prototype._logMarauderEvent=function(v,w){"use strict";this.options.mJewelMarauderLogger.log(this._marauderModuleName,v,w);};u.prototype.isOpen=function(){"use strict";return this._popover&&this._popover.isOpen();};u.prototype.openPopover=function(){"use strict";this._popover&&!this._popover.isOpen()&&this._popover.open();};u.prototype.reregisterListeners=function(){"use strict";var v=this.isOpen();this.clear();this._createPopover();if(v)this._popover.open();};s(u,['cleared','jewel_click']);r(u,{M_AREA_WHITE:'acw',M_AREA_LIGHTBLUE:'aclb',MARK_READ_DELAY:3000,JEWEL_NAV_NODE_ID:'mJewelNav',nextID:0});r(u.prototype,{_sigil:null,_currentJewel:null,_count:0,_popover:null});e.exports=u;},null);
__d("MJewels",[],function(a,b,c,d,e,f){e.exports={REQUESTS:'requests',MESSAGES:'messages',NOTIFICATIONS:'notifications',SEARCH:'search',MORE:'more',NEWS_FEED:'news-feed'};},null);
__d("MJewelSet",["DOM","HTML","AppRequestLogger","MJewels","MDynaTemplate","MJewel","MLogState","Popover","MRequest","Stratcom","MTouchChannelManager","MURI","startsWith","isFacebookURI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u={_viewerID:null,_requestsJewel:null,_messagesJewel:null,_notificationsJewel:null,_unseenNotificationIds:{},_jewelClickLogListener:null,_haveInitializedJewels:false,MSG_ID_PREFIX:'msg_',NOTIF_ID_PREFIX:'notif_',JEWEL_NAV_NODE_ID:'mJewelNav',JEWEL_NAV_CACHE_KEY:'mJewelNavKey',JEWEL_MSG_LIST:"mJewelMsgThreadContents",createJewels:function(v,w){u._requestsJewel=new l('requests',{pos:m.CLICK_POSITION_REQUESTS_FLYOUT,mJewelMarauderLogger:v,heightConstraint:w.heightConstraint,preventClose:w.preventClose,softState:j.REQUESTS},'friends_jewel_module');u._requestsJewel.listen('cleared',u._markRequestsRead);u._requestsJewel.listen('jewel_click',u._logRequestsJewelClick);u._messagesJewel=new l('messages',{contentsSigil:u.JEWEL_MSG_LIST,pos:m.CLICK_POSITION_MESSAGES_FLYOUT,mJewelMarauderLogger:v,heightConstraint:w.heightConstraint,preventClose:w.preventClose,softState:j.MESSAGES},'messages_jewel_module');u._messagesJewel.listen('cleared',u._markMessagesRead);u._messagesJewel.listen('jewel_click',u._logMessagesJewelClick);u._notificationsJewel=new l('notifications',{pos:m.CLICK_POSITION_NOTIFICATIONS_FLYOUT,clickCallback:u._notificationClick,mJewelMarauderLogger:v,heightConstraint:w.heightConstraint,preventClose:w.preventClose,softState:j.NOTIFICATIONS},'notifications_jewel_module');u._notificationsJewel.listen('cleared',u._markNotificationsSeen);u._jewelClickLogListener=u._notificationsJewel.listen('jewel_click',u._logNotificationJewelClick);},openMessageJewel:function(){u._messagesJewel.openPopover();},markFriendRequestsSeen:function(event){u._requestsJewel.setCount(0);},updateFriendRequests:function(event){if(u._requestsJewel.isOpen())return;var v=new o('/ajax/mobile/friends/jewel/requests_markup');v.send();},onAfterUpdateFriendRequests:function(v){u._setJewelCount(u._requestsJewel,v,u._markRequestsRead);n.getInstance('reqs_flyout').refreshConstraints();},onAfterUpdateMessages:function(v){u._setJewelCount(u._messagesJewel,v,u._markMessagesRead);},onAfterUpdateNotifications:function(v,w){u._setJewelCount(u._notificationsJewel,v,u._markNotificationsSeen);p.invoke('notifications_unseen',null,w);},updateNotification:function(event){var v=event.getData();if(v&&v.data){if(!u._notificationsJewel.isOpen()&&!u._unseenNotificationIds[v.data.alert_id])u._notificationsJewel.setCount(v.data.unread+u._notificationsJewel.getCount());u._notificationsJewel.removeMenuContent(u._getNotifNodeID(v.data.alert_id));var w=u._createNotificationMarkup(v.data);u._notificationsJewel.prependMenuContent(w);u._unseenNotificationIds[v.data.alert_id]=true;if(u._notificationsJewel.isOpen())u._markNotificationsSeen();}},_createNotificationMarkup:function(v){v.id=u._getNotifNodeID(v.alert_id);if(v.type&&v.type=='app_request'){v.onclick=i?"require('AppRequestLogger').setLastApp("+v.app_id+")":null;v.target='_blank';}if(window.devicePixelRatio>1&&v.profile_pic_2x)v.profile_pic=v.profile_pic_2x;var w=k.renderToHtml('@MJewelRealTimeNotificationTemplate',v);return (new h(w)).getFragment().firstChild;},updateUnseenNotificationIds:function(event){var v=event.getData();if(!v)return;var w=event.getType()=='notifications_read';if(v.alert_ids){var x=0;for(var y=0;y<v.alert_ids.length;y++)if(u._unseenNotificationIds[v.alert_ids[y]]){delete u._unseenNotificationIds[v.alert_ids[y]];w&&u._notificationsJewel.updateMenuColor(u._getNotifNodeID(v.alert_ids[y]),true,false);x++;}var z=u._notificationsJewel.getCount();u._notificationsJewel.setCount(z-x);}else{u._notificationsJewel.setCount(0);if(w)for(var aa in u._unseenNotificationIds)u._notificationsJewel.updateMenuColor(u._getNotifNodeID(aa),true,false);u._unseenNotificationIds={};}},updateUnreadMessageCount:function(event){var v=event.getData();if(!u._messagesJewel.isOpen()&&v&&typeof(v.unseen)!='undefined')u._messagesJewel.setCount(v.unseen);},updateMessage:function(event){var v=event.getData();if(!v)return;if(v.tid){if(v.folder!=='inbox'||!(u._viewerIsAParticipant(u._viewerID,v)))return;if(u._messagesJewel.isInitialized()){u._messagesJewel.removeMenuContent(u._getMessageNodeID(v.tid));var w=u._createMessageMarkup(v);u._messagesJewel.prependMenuContent(w);if(u._viewerID==v.author_fbid)u._messagesJewel.updateMenuColor(u._getMessageNodeID(v.tid),true,false);if(u._messagesJewel.isOpen())u._markMessagesRead();}}else if(v.mark_as_read)for(var x=0;x<v.tids.length;x++){var y=v.tids[x];if(v.folder_info[y]!=='inbox')continue;u._messagesJewel.updateMenuColor(u._getMessageNodeID(y),v.event=='read',false);}},_createMessageMarkup:function(v){v.id=u._getMessageNodeID(v.tid);if(window.devicePixelRatio>1&&v.thread_image_2x)v.thread_image=v.thread_image_2x;var w=k.renderToHtml('@MJewelNewMessageTemplate',v),x=new h(w).getRootNode();if(v.has_attachment){var y=g.scry(x,'*','attachment-icon');for(var z=0;z<y.length;z++)g.show(y[z]);}return x;},_getMessageNodeID:function(v){return u.MSG_ID_PREFIX+v;},_getNotifNodeID:function(v){return u.NOTIF_ID_PREFIX+v;},_markRequestsRead:function(){var v=new o(new r('/a/jewel_requests_read.php').setAsync(true).toString());v.send();},_markMessagesRead:function(){var v=new o(new r('/a/jewel_messages_read.php').setAsync(true).toString());v.send();},_markNotificationsSeen:function(){if(u._jewelClickLogListener){u._jewelClickLogListener.remove();u._jewelClickLogListener=null;}var v=u._unseenNotificationIds;u._unseenNotificationIds={};var w=[];for(var x in v)w.push(x);var y=new o(new r('/a/jewel_notifications_read.php').setAsync(true).toString());y.addData({ids:w,count:w.length,seen:true});y.send();},_logMessagesJewelClick:function(event){var v=u._messagesJewel._getContentsElement();if(u._messagesJewel.isOpen()&&p.hasSigil(v,'messages-flyout-loading'))new o('/ajax/mobile/jewels/messages_markup').send();},_logNotificationJewelClick:function(){if(u._jewelClickLogListener){u._jewelClickLogListener.remove();u._jewelClickLogListener=null;}var v=new o(new r('/a/jewel_notifications_log.php').setAsync(true).toString());v.addData({click_type:'jewel_click',count:u._notificationsJewel.getCount()});v.send();var w=u._notificationsJewel._getContentsElement();if(u._notificationsJewel.isOpen()&&p.hasSigil(w,'notifications-flyout-loading'))new o('/ajax/mobile/jewels/notifications_markup').send();},_logRequestsJewelClick:function(){var v=u._requestsJewel._getContentsElement(),w=g.scry(v,'div','attachment'),x=[];for(var y=0;y<w.length;y++){var z=w[y].getAttribute('id');if(z&&s(z,'m_jewel_req_'))x=x.concat(z.replace('m_jewel_req_',''));}if(x.length){var aa=new o('/friends/requests/log_impressions');aa.setMethod('POST');aa.addData({ids:x.join(','),ref:'m_jewel'});aa.send();}if(u._requestsJewel.isOpen()&&p.hasSigil(v,'requests-flyout-loading'))new o('/ajax/mobile/friends/jewel/requests_markup').send();},_notificationClick:function(event){var v=event.getNode('marea');if(!v)return;var w=v.getAttribute('id');if(!w)return;u._notificationsJewel.updateMenuColor(w,true,false);var x=new o(new r('/a/jewel_notifications_log.php').setAsync(true).toString());x.addData({click_type:'jewel_notif_click',id:w.replace(u.NOTIF_ID_PREFIX,'')});x.send();},_viewerIsAParticipant:function(v,w){return ((w.participant_ids&&w.participant_ids.indexOf(v)>-1));},_initJewelCount:function(v,w,x){v.setDuringInit(true);v.reregisterListeners();u._setJewelCount(v,w,x);v.setDuringInit(false);},_setJewelCount:function(v,w,x){if(!v.isOpen()){v.setCount(w);}else if(w)x();},_initJewelCounts:function(event){var v=event.getData();u.initJewels(null);if(v.viewer_id)u._viewerID=v.viewer_id;if(v.unread_notification_ids)u._unseenNotificationIds=v.unread_notification_ids||{};if(v.request_count)u._initJewelCount(u._requestsJewel,v.request_count,u._markRequestsRead);if(v.message_count)u._initJewelCount(u._messagesJewel,v.message_count,u._markMessagesRead);if(v.notification_count)u._initJewelCount(u._notificationsJewel,v.notification_count,u._markNotificationsSeen);},initJewels:function(v,w){if(u._haveInitializedJewels)return;u._haveInitializedJewels=true;q.initialize();u.createJewels(v,w||{});if(!u._friendRequestAddListener)u._friendRequestAddListener=p.listen('jewel_requests_add',null,u.updateFriendRequests);if(!u._friendRequestRemoveListener)u._friendRequestRemoveListener=p.listen('jewel_requests_remove_old',null,u.updateFriendRequests);if(!u._friendRequestSeenListener)u._friendRequestSeenListener=p.listen('friend_requests_seen',null,u.markFriendRequestsSeen);if(!u._notificationListener)u._notificationListener=p.listen('m_notification',null,u.updateNotification);if(!u._messageListener)u._messageListener=p.listen('m_messaging',null,u.updateMessage);if(!u._messageCountListener)u._messageCountListener=p.listen('inbox',null,u.updateUnreadMessageCount);if(!u._notifReadListener)u._notifReadListener=p.listen('notifications_read',null,u.updateUnseenNotificationIds);if(!u._notifSeenListener)u._notifSeenListener=p.listen('notifications_seen',null,u.updateUnseenNotificationIds);if(!u._friendRequestResponseListener)u._friendRequestResponseListener=p.listen('m:requests:refresh',null,function(){n.getInstance('reqs_flyout').refreshConstraints();});}};(function(){p.listen('m:jewels:init-counts',null,u._initJewelCounts);})();e.exports=u;},null);
__d("MReactBookmarkTitles",[],function(a,b,c,d,e,f){var g={app:'Apps',developer:'Developer',friend_list:'Friends',group:'Groups',suggested_game:'Suggested Games',interest_list:'Interests',page:'Pages',pinned:'Favorites',subscribed_searches:'News You\'re Following'};e.exports=g;},null);
__d("MReactBookmarkHeader",["React","Stratcom","cx"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=g.PropTypes,k=g.createClass({displayName:"MReactBookmarkHeader",propTypes:{header:j.string.isRequired,groupid:j.string,nux:j.object},render:function(){var l=this.props.groupid==='subscribed_searches'?'m-subscribed-searches-bookmark':'';return (g.createElement("h3",{className:"_52x1","data-sigil":l,ref:"header"},g.createElement("span",{className:"_52x2"},this.props.header)));},componentDidMount:function(){if(this.props.nux){this.props.nux.setContext(this.refs.header.getDOMNode());h.listen('m:side-area:show',null,function(){if(!this.props.nux.destroyed){this.props.nux.show();this.props.nux.updateNubPosition(110);}h.listen('scroll',null,function(){if(!this.props.nux.destroyed)this.props.nux.show();}.bind(this));}.bind(this));}}});e.exports=k;},null);
__d("MSideAreaUtils",["URI"],function(a,b,c,d,e,f,g){var h={getCurrentURI:function(){return new g(window.location);},isSamePage:function(i,j){if(i.getPath()!=j.getPath())return false;var k=i.getQueryData(),l=j.getQueryData();return k.sk===l.sk&&k.v===l.v&&k.app_id===l.app_id;}};e.exports=h;},null);
__d("MReactBookmarkRow",["MSession","MSideAreaUtils","React","URI","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=i.PropTypes,n=20,o=i.createClass({displayName:"MReactBookmarkRow",propTypes:{bookmark:m.object.isRequired,isUser:m.bool,onClickItem:m.func.isRequired},shouldComponentUpdate:function(p,q){var r=this.props.bookmark,s=p.bookmark;return r!==s||r.pic!==s.pic||r.name!==s.name||this.state.count!==q.count||r.url!==s.url||this.state.isSelected!==q.isSelected;},getInitialState:function(){return {count:this.props.bookmark.count.value,isSelected:this._isSelected(this.props.bookmark)};},componentWillReceiveProps:function(p){this.setState({count:p.bookmark.count.value,isSelected:this._isSelected(p.bookmark)});},_isSelected:function(p){return h.isSamePage(h.getCurrentURI(),new j(p.url));},render:function(){var p=this.props.bookmark,q=!p.pic?null:i.createElement("i",{className:"_52x5 img",style:{backgroundImage:"url('"+p.pic+"')"}}),r=!p.pic&&p.hasOwnProperty('noBookmarkIconSpacing')&&p.noBookmarkIconSpacing,s=p.name.length>42,t=p.name.length<=42&&p.name.length>30,u=this.state.count>n?"20+":this.state.count;return (i.createElement("li",{className:(("_53_-")+(this.state.isSelected?' '+"selected":'')+(this.props.isUser?' '+"_4ut2":''))},i.createElement("div",{"data-sigil":"touchable",className:"_52x6 touchable"},i.createElement("a",{href:p.url,className:(("_5lut")+(' '+"_5luu")),onClick:this.props.onClickItem},i.createElement("div",{className:((!r?"_52x3":'')+(r?' '+"_5p-5":'')+(g.useAngora?' '+"_52x4":''))},q),i.createElement("div",{className:(("_52x7")+(s?' '+"_5401":'')+(t?' '+"_5400":'')+(p.dir==='rtl'?' '+"_5w9v":'')+(p.dir==='ltr'?' '+"_5w9w":''))},p.name),i.createElement("div",{className:(("_55fj")+(!this.state.count?' '+"hiddenElem":''))},u,i.createElement("span",{className:"_55fk"},"\u65b0"))),this._renderSideButton())));},_renderSideButton:function(){var p=this.props.bookmark;if(!p.side_button_icon||!p.side_button_uri)return null;return (i.createElement("a",{className:"_5lut _5rl-",href:p.side_button_uri,onClick:this.props.onClickItem},i.createElement("i",{className:"_5rl_ img",style:{backgroundImage:"url('"+p.side_button_icon+"')"}})));}});e.exports=o;},null);
__d("MReactCreateGroup",["Image.react","MSession","React","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=i.PropTypes,n=i.createClass({displayName:"MReactCreateGroup",propTypes:{uri:m.string.isRequired},render:function(){var o=JSON.stringify({dialogURI:this.props.uri});return (i.createElement("li",{className:"_53_-"},i.createElement("div",{className:"_52x6 touchable","data-sigil":"touchable"},i.createElement("a",{rel:"dialog",href:"#","data-sigil":"touchable dialog-link","data-store":o,className:"_5lut _5luu"},i.createElement("div",{className:(("_52x3")+(h.useAngora?' '+"_52x4":''))},i.createElement(g,{className:"_52x5 img",src:l('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addgroup.png')})),i.createElement("div",{className:"_52x7"},"\u521b\u5efa\u65b0\u5c0f\u7ec4")))));}});n.make=function(o,p){return p.id!=='group'?null:i.createElement(n,{uri:o,key:"bookmark_createGroup"});};e.exports=n;},null);
__d("MReactCreatePage.react",["Image.react","MSession","React","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){'use strict';var m=i.PropTypes,n=i.createClass({displayName:"MReactCreatePage",propTypes:{uri:m.string.isRequired},render:function(){return (i.createElement("li",{className:"_53_-"},i.createElement("div",{className:"_52x6 touchable","data-sigil":"touchable"},i.createElement("a",{rel:"dialog",href:this.props.uri,className:"_5lut _5luu"},i.createElement("div",{className:(("_52x3")+(h.useAngora?' '+"_52x4":''))},i.createElement(g,{className:"_52x5 img",src:l('/images/litestand/bookmarks/sidebar/icons/mobile/icon-addpage.png')})),i.createElement("div",{className:"_52x7"},"\u65b0\u5efa\u4e3b\u9875")))));}});n.make=function(o,p){return !o||p.id!=='page'?null:i.createElement(n,{uri:o,key:"bookmark_createPage"});};e.exports=n;},null);
__d("MReactSeeAllBookmarks",["React","MReactBookmarkTitles","cx","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=g.PropTypes,m=g.createClass({displayName:"MReactSeeAllBookmarks",propTypes:{createGroupURI:l.string.isRequired,group:l.object.isRequired,onClickSeeAll:l.func.isRequired},render:function(){var n=this.props.group;k(h[n.id]);return (g.createElement("a",{name:n.name,href:"#","data-sigil":"touchable",onClick:this._onClick,className:"touchable _52x6 _53__"},j._({"Apps":"\u67e5\u770b\u6240\u6709\u5e94\u7528\u7a0b\u5e8f","Developer":"\u67e5\u770b\u6240\u6709\u5f00\u53d1\u8005","Friends":"\u67e5\u770b\u5168\u90e8\u597d\u53cb","Groups":"\u67e5\u770b\u6240\u6709\u5c0f\u7ec4","News You're Following":"See All News You're Following","Suggested Games":"\u67e5\u770b\u6240\u6709\u63a8\u8350\u7684\u6e38\u620f","Interests":"\u67e5\u770b\u6240\u6709\u5174\u8da3","Pages":"\u67e5\u770b\u6240\u6709\u4e13\u9875","Favorites":"\u67e5\u770b\u6240\u6709\u6536\u85cf"},[j['enum'](h[n.id],{Apps:"Apps",Developer:"Developer",Friends:"Friends",Groups:"Groups","News You're Following":"News You're Following","Suggested Games":"Suggested Games",Interests:"Interests",Pages:"Pages",Favorites:"Favorites"})])));},_onClick:function(n){this.props.onClickSeeAll({createGroupURI:this.props.createGroupURI,group:this.props.group});}});e.exports=m;},null);
__d("MReactBookmarks",["MLoadingIndicator","MLogger","React","StaticContainer.react","MReactBookmarkHeader","MReactBookmarkRow","MReactCreateGroup","MReactCreatePage.react","MReactSeeAllBookmarks","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';var q=i.PropTypes;function r(t,u){return 'bookmark_'+t.id+'_'+u.id;}var s=i.createClass({displayName:"MReactBookmarks",propTypes:{bookmarkGroups:q.array.isRequired,createGroupURI:q.string.isRequired,createPageURI:q.string,loaderId:q.string,loaderMarkup:q.object,onClickItem:q.func.isRequired,onClickSeeAll:q.func.isRequired,secondaryData:q.object,pinnedPageTestGK:q.number,pinnedPageID:q.string,searchSubscriptionBookmarkNUX:q.object,showSearchSubscriptionBookmarkAtTop:q.bool},_addBookmarkGroup:function(t,u){var v=this.props.createGroupURI,w=n.make(this.props.createPageURI,u),x=m.make(v,u);if((u.visible&&u.visible.length)||w||x){var y=u.visible||[];if(this.props.pinnedPageTestGK&&u.id=='user')this.props.bookmarkGroups[1].visible.forEach(function(ba){if(ba.id==this.props.pinnedPageID)y.push(ba);},this);var z=u.all||y;if(u.header){var aa=u.id==='subscribed_searches'?this.props.searchSubscriptionBookmarkNUX:null;t.push(i.createElement(k,{header:u.header,key:'group_'+u.id,groupid:u.id,nux:aa}));}y.forEach(function(ba){if(!this.props.pinnedPageTestGK||u.id!='pinned'||ba.id!=this.props.pinnedPageID)t.push(i.createElement(l,{bookmark:ba,key:r(u,ba),isUser:u.id=='user',onClickItem:this.props.onClickItem}));},this);if(w){t.push(w);}else if(x)t.push(x);if(y.length<z.length)t.push(i.createElement("li",{className:"_53_-",key:'seeAll_'+u.id},i.createElement(o,{createGroupURI:v,group:u,onClickSeeAll:this.props.onClickSeeAll})));}},_getBookmarkGroups:function(t){var u=[];for(var v=0,w=t.length;v<w;++v){var x=t[v];this._addBookmarkGroup(u,x);}return u;},_getSecondary:function(t){var u=t.group,v=m.make(this.props.createGroupURI,u),w=[v];Array.prototype.push.call(w,u.all.map(function(x){return (i.createElement(l,{bookmark:x,key:r(u,x),onClickItem:this.props.onClickItem}));},this));return w;},reRankBookmarks:function(t){if(!this.props.showSearchSubscriptionBookmarkAtTop||t.length<=3)return t;var u=null;for(var v=0;v<t.length;++v)if(t[v].id==='subscribed_searches')u=v;if(!u)return t;var w=[];w[0]=t[0];w[1]=t[1];w[2]=t[u];var x=3;for(var y=2;y<t.length;++y)if(v!=u){w[x]=t[y];x++;}return w;},render:function(){var t=this.reRankBookmarks(this.props.bookmarkGroups),u=Object.prototype.toString.call(t).slice(8,-1);if(t&&u!=='Array')h.warn('[react-bookmarks] received unexpected payload: %s',JSON.stringify(t));var v=[];this._loaderMarkup=null;if(this.props.isSecondary){v=this._getSecondary(this.props.secondaryData);}else{v=this._getBookmarkGroups(t||[]);this._loaderMarkup=t&&!this.props.isPartial?null:i.createElement(j,null,i.createElement("div",{className:"apl",dangerouslySetInnerHTML:this.props.loaderMarkup}));}return (i.createElement("div",null,i.createElement("ul",{className:"_7k7"},v,this._loaderMarkup)));},componentDidMount:function(){if(this._loaderMarkup)g.init(this.props.loaderId);}});e.exports=s;},null);
__d("MReactSearchProxy",["React","cx","fbt"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=g.PropTypes,k=g.createClass({displayName:"MReactSearchProxy",propTypes:{enableReactSearch:j.bool.isRequired,onClick:j.func},render:function(){return (g.createElement("div",{className:"_5fm- touchable",onClick:this._onClick},g.createElement("div",{className:"mSideSearch","data-sigil":'search-activator'},g.createElement("div",{className:"_5whq mSearchProxy input"},"\u641c\u7d22"))));},_onClick:function(l){if(this.props.enableReactSearch)this.props.onClick();}});e.exports=k;},null);
__d("MReactSecondarySideMenuHeader",["React","cx","Image.react"],function(a,b,c,d,e,f,g,h,i){'use strict';var j=g.PropTypes,k=g.createClass({displayName:"MReactSecondarySideMenuHeader",propTypes:{backButtonImg:j.string,onClickBackButton:j.func.isRequired},render:function(){return (g.createElement("div",{className:"_56do","data-sigil":"marea"},g.createElement("a",{className:"touchable","data-sigil":"blocking-touchable",href:"#",onClick:this._onClick},g.createElement("div",{className:"_4opv"},g.createElement(i,{height:"20",src:this.props.backButtonImg,width:"24"})),g.createElement("div",{className:"_56dq"},this.props.title))));},_onClick:function(l){this.props.onClickBackButton();}});e.exports=k;},null);
__d("MReactPartialSideMenu",["MReactBookmarks","MReactBookmarkHeader","MReactSearchProxy","MReactSecondarySideMenuHeader","MReactBookmarkTitles","React","Vector","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';var o=l.PropTypes,p=l.createClass({displayName:"MReactPartialSideMenu",propTypes:{bookmarkGroups:o.array.isRequired,createGroupURI:o.string.isRequired,createPageURI:o.string,enableReactSearch:o.bool.isRequired,footerMarkup:o.object,isPartial:o.bool.isRequired,isSecondary:o.bool.isRequired,loaderId:o.string,loaderMarkup:o.object,onClickBackButton:o.func.isRequired,onClickItem:o.func.isRequired,onClickSearchProxy:o.func,onClickSeeAll:o.func.isRequired,showSearchHeader:o.bool,secondaryData:o.object,pinnedPageTestGK:o.number,pinnedPageID:o.string,searchSubscriptionBookmarkNUX:o.object,showSearchSubscriptionBookmarkAtTop:o.bool},render:function(){var q=null;if(this.props.isSecondary){var r=this.props.secondaryData.group,s=n._({"Apps":"\u6240\u6709\u5e94\u7528\u7a0b\u5e8f","Developer":"\u6240\u6709\u5f00\u53d1\u8005","Friends":"\u5168\u90e8\u597d\u53cb","Groups":"\u6240\u6709\u5c0f\u7ec4","News You're Following":"\u4f60\u5173\u6ce8\u7684\u6240\u6709\u52a8\u6001","Suggested Games":"\u6240\u6709\u63a8\u8350\u7684\u6e38\u620f","Interests":"\u6240\u6709\u5174\u8da3","Pages":"\u6240\u6709\u4e13\u9875","Favorites":"\u6240\u6709\u6536\u85cf"},[n['enum'](k[r.id],{Apps:"Apps",Developer:"Developer",Friends:"Friends",Groups:"Groups","News You're Following":"News You're Following","Suggested Games":"Suggested Games",Interests:"Interests",Pages:"Pages",Favorites:"Favorites"})]);q=l.createElement(j,{backButtonImg:this.props.backButtonImg,title:s,onClickBackButton:this.props.onClickBackButton});}else if(this.props.showSearchHeader)q=l.createElement(i,{enableReactSearch:this.props.enableReactSearch,onClick:this.props.onClickSearchProxy});var t=null,u=null;if(!this.props.isSecondary&&this.props.footerMarkup){var v="\u5e2e\u52a9\u4e0e\u8bbe\u7f6e";t=l.createElement(h,{header:v});u=l.createElement("div",{"data-sigil":"react-side-area-footer",dangerouslySetInnerHTML:this.props.footerMarkup});}return (l.createElement("div",{className:"mSideMenuPage"},q,l.createElement("div",{className:"mSideMenu"},l.createElement(g,{bookmarkGroups:this.props.bookmarkGroups,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,isPartial:this.props.isPartial,isSecondary:this.props.isSecondary,loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,onClickItem:this.props.onClickItem,onClickSeeAll:this.props.onClickSeeAll,secondaryData:this.props.secondaryData,pinnedPageTestGK:this.props.pinnedPageTestGK,pinnedPageID:this.props.pinnedPageID,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop}),t,u)));},getDisplayedHeight:function(){return m.getDim(this.getDOMNode()).y;}});e.exports=p;},null);
__d("MReactSearchResultsRow",["MDynaTemplate","React","Stratcom","cx"],function(a,b,c,d,e,f,g,h,i,j){'use strict';var k=h.createClass({displayName:"MReactSearchResultsRow",_renderProfileImg:function(){var l=this.props.data.photo;if(l){return (h.createElement("i",{className:(("_5fn7")+(' '+"img")+(this.props.data.isTrending?' '+"_1m-q":'')),style:{backgroundImage:"url('"+l+"')"}}));}else return (h.createElement("i",{className:(("_5fn7")+(' '+"img")+(l==null&&!this.props.data.isTrending?' '+"_1mnm":'')+(this.props.data.isTrending?' '+"_1m-q":''))}));},_renderVerified:function(){var l=this.props.data.verified;return (l&&l.__html)?h.createElement("span",{dangerouslySetInnerHTML:l}):null;},_renderSubtext:function(){var l=this.props.data;if(!l.isRecentSearch)return null;var m=l.subtext;if(l.action=='add_friend')return (h.createElement("span",{className:"_5fn8 mfss",dangerouslySetInnerHTML:m}));var n;if(!l.isTrending){n=l.type?l.type+' '+String.fromCharCode(183)+' ':'';m=m?n+m:l.type;}if(!m)return null;return (h.createElement("span",{className:"_5fn8 mfss"},m));},_renderSecondaryAction:function(){var l=this.props.data,m;if(l.action=='phone'){m=this._renderPhoneAction();}else if(l.action=='add_friend'){m=this._renderAddAction();}else if(l.action=='message'){m=this._renderMessageAction();}else l.action;if(!m)return null;if(m.__html){return (h.createElement("div",{className:"_5fn9",dangerouslySetInnerHTML:m}));}else return (h.createElement("div",{className:"_5fn9"},m));},_renderPhoneAction:function(){var l=this.props.data;if(!l.paths||!(l.paths.mobile||l.paths.sms))return null;var m=g.renderToHtml('@CallButtonTemplate',{call_uri:l.paths.mobile,call_style:l.paths.mobile?'':'display:none;',sms_uri:l.paths.sms,sms_style:l.paths.sms?'':'display:none;'});return {__html:m};},_renderAddAction:function(){var l=this.props.data;if(!l.paths||!l.paths[l.action])return null;return l.paths[l.action];},_renderMessageAction:function(){var l=this.props.data;if(!l.paths||!l.paths.message)return null;return (h.createElement("a",{className:"_5rwu",href:l.paths.message,onClick:this._onClick},h.createElement("i",{className:"img"})));},render:function(){var l=this.props.data;if(l.type==='node')return (h.createElement("div",{className:"_1mnn"},l.node));return (h.createElement("div",{className:"_5fna",rel:l.id},h.createElement("a",{className:(("_5fnb")+(' '+"touchable")+(l.action?' '+"hasSecondaryAction":'')),"data-sigil":"touchable",name:l.name,href:l.uri,onClick:this._onClick},this._renderProfileImg(),h.createElement("div",{className:"_5fnd mfsl"},l.display||l.name,this._renderVerified()),this._renderSubtext()),this._renderSecondaryAction()));},_onClick:function(event){this.props.onClickItem&&this.props.onClickItem(event,this.props.data);i.invoke('m:search-typeahead:select-react',null,{node:this.props.data,position:this.props.position,query:this.props.query});}});e.exports=k;},null);
__d("MReactSearchResultsPresenter",["MReactSearchResultsRow","React","StaticContainer.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){'use strict';var l=30,m=h.createClass({displayName:"ResultRenderer",renderLoader:function(){return (h.createElement("div",{className:"_5fnh",style:{display:!this.props.waiting||!this.props.query?'none':''}},h.createElement("span",{dangerouslySetInnerHTML:this.props.loaderMarkup}),"\u6b63\u5728\u52a0\u8f7d\u2026\u2026"));},renderSeeMore:function(){return (h.createElement("a",{className:"_5fni touchable","data-sigil":"touchable",href:'/search/?query='+encodeURIComponent(this.props.query),onClick:this._onClickSeeMore,style:{display:!this.props.query?'none':''}},k._("\u67e5\u770b{query}\u7684\u66f4\u591a\u7ed3\u679c",[k.param("query",'"'+this.props.query+'"')])));},render:function(){var o=this.props.data.slice(0,l),p,q;o=o.reduce(function(r,s,t){var u=null;if(!p&&s.isTrending){u={type:'node',node:h.createElement("div",null,"\u70ed\u95e8")};r.push(h.createElement(i,{key:"header-trending"},h.createElement(g,{data:u})));p=true;}if(!q&&s.isRecentSearch){u={type:'node',node:h.createElement("div",null,"\u6700\u8fd1\u641c\u7d22")};r.push(h.createElement(i,{key:"header-recent"},h.createElement(g,{data:u})));q=true;}r.push(h.createElement(i,{key:s.id},h.createElement(g,{position:t,query:this.props.query,data:s,onClickItem:this._onClick})));return r;}.bind(this),[]);return (h.createElement("div",{className:"_5fng",onTouchStart:this.props.onTouchStart},o,this.renderLoader(),this.renderSeeMore()));},_onClickSeeMore:function(event){this.props.onClickItem&&this.props.onClickItem(event,{});},_onClick:function(event,o){this.props.onClickItem&&this.props.onClickItem(event,o);}}),n={ViewRenderer:m};e.exports=n;},null);
__d("MReactSearchOverlay",["MAddFriend","MReactSearchResultsPresenter","MReactTypeahead","React","Stratcom","SearchMTouchGlobalOptions","cx","fbt","MOpenable"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';b('MOpenable');var o=j.PropTypes,p=j.createClass({displayName:"MReactSearchOverlay",propTypes:{display:o.bool,onClickItem:o.func,onClose:o.func,onTypeaheadUpdate:o.func,typeaheadConfig:o.object.isRequired},init:function(){this.refs.searchInput.configureDatasource(l);this.refs.searchInput.configureMSearchTypeaheadPerfLogger();this.refs.searchInput.configureMSideNavMarauderLogger();this.refs.searchInput.configureMSearchTypeaheadLogger();this.refs.searchInput.configureMRecentSearchesUpdater();this.focus();},focus:function(){this.refs.searchInput.focusInput();},blur:function(){this.refs.searchInput.blurInput();},hideKeyboard:function(){this.blur();},close:function(){this.props.onClose();},logSearchSessionEnd:function(q){k.invoke('log-m-search-session-end',null,{reason:q});},render:function(){return (j.createElement("div",{className:"_5fmz",style:{display:this.props.display?'':'none'}},j.createElement("div",{className:"_5fm-"},j.createElement("button",{className:"_5fm_ touchable btn btnI bgdb mfss",type:"submit","data-sigil":"touchable","data-store":'{"nativeClick": true}',onClick:this.onCancelClick},"\u53d6\u6d88"),j.createElement(i,{ref:"searchInput",placeholder:"\u641c\u7d22",presenter:h,typeaheadConfig:this.props.typeaheadConfig,showClearButton:true,onClickItem:this.onClickItem,onTouchStart:this.onTouchStart,onUpdate:this.props.onTypeaheadUpdate}))));},onCancelClick:function(){this.logSearchSessionEnd('cancel');k.invoke('m:search-overlay:cancel-react');this.onCancel();},onCancel:function(q){this.close();this.refs.searchInput.reset();},onClickItem:function(q){this.props.onClickItem();this.hideKeyboard();this.close();},onTouchStart:function(q){this.hideKeyboard();},handleStateChange:function(q){if(this.refs.searchInput.getInputValue())setTimeout(function(){this.onCancel(q);}.bind(this),0);},getDisplayedHeight:function(){return this.refs.searchInput.getDisplayedHeight();},componentDidMount:function(){g.main();k.listen('m:history:change',null,this.handleStateChange);k.listen('m:side-area:hide',null,function(){this.logSearchSessionEnd('back');}.bind(this));}});e.exports=p;},null);
__d("fetchBookmarks",["FBJSON","MRequest"],function(a,b,c,d,e,f,g,h){'use strict';function i(j,k){var l=new h('/api/').setData({method:'bookmarks.get',mobile:true});l.listen('error',function(m){m.isHandled=true;k(m);});l.listen('done',function(m){if(typeof m!=='string'){k("payload is not string.",m);return;}var n=g.parse(m,e.id);if('error_code' in n||(n&&n[0]&&'error_code' in n[0])){k(n[0]||n);}else j(n);});l.send();}e.exports=i;},null);
__d("MReactSidenav",["MLogger","MRequest","MReactPartialSideMenu","MReactSearchOverlay","MViewport","React","Stratcom","XChatBuddyCountControllerURIBuilder","cx","fetchBookmarks","invariant","keyMirror","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';var t=l.PropTypes,u=217974574879787,v=245119965500321,w=r({SELF:null,SECONDARY:null,SEARCH:null}),x={};x[w.SELF]='mainMenu';x[w.SECONDARY]='mainMenu';x[w.SEARCH]='search';var y=null,z=null,aa=l.createClass({displayName:"MReactSidenav",_bookmarkCountsById:[],_viewportConstraint:null,propTypes:{backButtonImg:t.object,bookmarkGroups:t.array,createGroupURI:t.string.isRequired,createPageURI:t.string,display:t.bool.isRequired,isPartial:t.bool.isRequired,footerMarkup:t.object,loaderId:t.string,loaderMarkup:t.object,onClickItem:t.func.isRequired,showSearchHeader:t.bool,typeaheadConfig:t.object,pinnedPageTestGK:t.number,pinnedPageID:t.string,searchSubscriptionBookmarkNUX:t.object,showSearchSubscriptionBookmarkAtTop:t.bool},getInitialState:function(){var ba=this.props,ca=(z&&z.bookmarkGroups||ba.bookmarkGroups||[]);this._adaptBookmarkGroups(ca);return {displayMode:w.SELF,secondaryData:null,isPartial:ba.isPartial,bookmarkGroups:ca,footerMarkup:(z&&z.footerMarkup)||ba.footerMarkup};},componentWillMount:function(){if(z)this.fetchBookmarks();},deferredRefresh:function(){s(this._refreshViewport,0);},deferredViewportUpdate:function(){s(this._updateViewport,0);},toggleMenu:function(ba){q(this._isOpen());this.setState({secondaryData:ba,displayMode:this.state.displayMode===w.SELF?w.SECONDARY:w.SELF},this.deferredRefresh);},updateChatCounts:function(){var ba=new n().getURI(),ca=new h(ba).setIgnoreErrors(true);ca.listen('done',function(da){this._getBookmarkCount(v).value=da.online_friend_count;this.setState(this.state);}.bind(this));ca.send();},_showSearch:function(){this._toggleSearch(true);},_hideSearch:function(){this._toggleSearch(false);},_toggleSearch:function(ba){var ca=this;this.setState({displayMode:ba?w.SEARCH:w.SELF},function(){if(ba)ca.refs.search.init();ca.deferredRefresh();});},_updateViewport:function(){if(this._isOpen()){var ba=this.refs[x[this.state.displayMode]];q(ba);var ca=ba.getDisplayedHeight()+k.getHeaderHeight();if(this._viewportConstraint){this._viewportConstraint.setValue(ca);}else this._viewportConstraint=k.addHeightConstraint(ca);}else if(this._viewportConstraint){this._viewportConstraint.release();this._viewportConstraint=null;}},_refreshViewport:function(){this._updateViewport();k.scrollToHeader();},render:function(){var ba=this.props.typeaheadConfig!==null,ca=ba?l.createElement(j,{ref:"search",display:this.state.displayMode===w.SEARCH,typeaheadConfig:this.props.typeaheadConfig,onClose:this._hideSearch,onClickItem:this.props.onClickItem,onTypeaheadUpdate:this._refreshViewport}):null,da=this.state.displayMode!==w.SEARCH&&l.createElement(i,{ref:"mainMenu",enableReactSearch:ba,onClickSearchProxy:this._showSearch,loaderId:this.props.loaderId,loaderMarkup:this.props.loaderMarkup,footerMarkup:this.state.footerMarkup,isSecondary:this.state.displayMode===w.SECONDARY,createGroupURI:this.props.createGroupURI,createPageURI:this.props.createPageURI,bookmarkGroups:this.state.bookmarkGroups,isPartial:this.state.isPartial,secondaryData:this.state.secondaryData,backButtonImg:this.props.backButtonImg,onClickItem:this._onClickItem,onClickBackButton:this.toggleMenu,onClickSeeAll:this.toggleMenu,showSearchHeader:this.props.showSearchHeader,pinnedPageTestGK:this.props.pinnedPageTestGK,pinnedPageID:this.props.pinnedPageID,searchSubscriptionBookmarkNUX:this.props.searchSubscriptionBookmarkNUX,showSearchSubscriptionBookmarkAtTop:this.props.showSearchSubscriptionBookmarkAtTop}),ea=((this.props.display?"_5q9e":'')+(!this.props.display?' '+"_5q9f":'')+(!this.state.isPartial?' '+"_1aqy":'')),fa={top:k.getHeaderTop()-1};return (l.createElement("div",{className:ea},l.createElement("div",{className:"mSideArea",style:fa},da),ca));},_onClickItem:function(){this.props.onClickItem();this.setState(this.state);},_isOpen:function(){return this.props.display;},componentDidMount:function(){q(!y);y=this;if(this.props.typeaheadConfig===null)m.listen('click',['search-overlay','typeahead-result'],this._onClickItem);m.listen('click',['search-overlay','discovery-external-page'],this._onClickItem);m.listen('click',['side-menu-item','tag:a'],this._onClickItem);m.listen('inbox',null,this._updateMessageCounts);m.listen('nav_update_counts',null,this._updateSidenavCounts);},_updateBookmarks:function(ba){this._adaptBookmarkGroups(ba);this.setState({bookmarkGroups:ba,isPartial:false},this._refreshWhenOpen);},_refreshWhenOpen:function(){if(this._isOpen())this._refreshViewport();},_getBookmarkCount:function(ba){var ca=this._bookmarkCountsById[ba];if(!ca)ca=this._bookmarkCountsById[ba]={};return ca;},_updateSidenavCounts:function(ba){var ca=ba.getData().items;for(var da=0;da<ca.length;da++){var ea=ca[da],fa=parseInt(ea.key.substring(ea.key.indexOf('_')+1),10);q('count' in ea||'increment' in ea);var ga=this._getBookmarkCount(fa);if(ea.count!==undefined){ga.value=ea.count;}else if(ea.increment)ga.value=Math.max(0,ga.value+ea.increment);}this.setState(this.state);},_updateMessageCounts:function(ba){this._getBookmarkCount(u).value=ba.getData().unread;this.setState(this.state);},_adaptBookmarkGroups:function(ba){for(var ca=0;ca<ba.length;ca++){this._adaptBookmarkCounts(ba[ca].all||[]);this._adaptBookmarkCounts(ba[ca].visible||[]);}return ba;},_adaptBookmarkCounts:function(ba){for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=this._getBookmarkCount(da.id);ea.value=da.count;da.count=ea;}},applyPayload:function(ba){if(ba&&ba.bookmarkGroups)ba.bookmarkGroups=this._adaptBookmarkGroups(ba.bookmarkGroups);this.setState(ba,this.deferredViewportUpdate);},fetchBookmarks:function(){p(this._updateBookmarks,function(ba){g.warn('[react-bookmarks] error: %s',JSON.stringify(ba));});}});aa.update=function(ba){if(!y){if(ba)z=ba;}else{y.applyPayload(ba);if(!ba||ba.isPartial)y.fetchBookmarks();}};e.exports=aa;},null);
__d("MReactSidearea",["CSS","MAria","MJewels","MHistory","MReactSidenav","MTabbable","React","Stratcom","cx","setTimeoutAcrossTransitions"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){"use strict";function q(s){return s.isUserOpened;}var r=m.createClass({displayName:"MReactSidearea",getInitialState:function(){return {isUserOpened:false,isAnimating:false};},render:function(){var s=this.state.isAnimating||q(this.state),t=null;if(s)t=m.createElement("div",{className:"_5gz3","data-sigil":"touchable",onClick:this._setUserClosed});return (m.createElement("div",null,m.createElement(k,m.__spread({},this.props,{ref:"sidenav",display:s,onClickItem:this._setUserClosed})),t));},componentWillMount:function(){this._setUserClosed=this._setUserOpened.bind(this,false);},componentDidMount:function(){this._listeners=[n.listen('click','menu-link',this._handleMenuLinkClick),n.listen('m:history:change',null,this._handleHistoryChange)];this._componentDidMountOrUpdate();},componentDidUpdate:function(s,t){var u=q(this.state),v=q(t);if(v!==u)n.invoke(u?'m:side-area:show':'m:side-area:hide');var w=this.state.isAnimating,x=t.isAnimating;if(x!==w){clearTimeout(this._onAnimationEnd);if(w)this._onAnimationEnd=p(this._handleAnimationEnd,200);}var y=this.state.isUserOpened,z=t.isUserOpened;if(z!==y)if(y){j.pushSoftState(i.MORE);p(function(){return l.focusTabbable(this.getDOMNode());}.bind(this),0);}else j.popSoftState(i.MORE);this._componentDidMountOrUpdate();},_componentDidMountOrUpdate:function(){var s=document.body,t=this.getDOMNode();g.conditionClass(s,'sideShowing',this.state.isUserOpened);if(q(this.state)){h.show(t);}else h.hide(t);this.refs.sidenav.deferredViewportUpdate();},_handleHistoryChange:function(event){var s=event.getData().soft===i.MORE,t=this.state.isUserOpened;if(t!==s)this._setUserOpened(s);},_handleMenuLinkClick:function(){var s=this.state.isUserOpened;if(s&&!this.props.preventClose){this._setUserOpened(false);}else if(!s)this._setUserOpened(true);},_setUserOpened:function(s){if(s)this.refs.sidenav.updateChatCounts();this.setState({isUserOpened:s,isAnimating:true});},_handleAnimationEnd:function(){this.setState({isAnimating:false});},componentWillUnmount:function(){for(var s=0;s<this._listeners.length;++s)this._listeners[s].remove();this._listeners=null;clearTimeout(this._onAnimationEnd);this._onAnimationEnd=null;}});e.exports=r;},null);
__d("MSearchTrendingLogger",["XMobileSearchTrendingLoggingControllerURIBuilder","MRequest","MSearchConst","Stratcom"],function(a,b,c,d,e,f,g,h,i,j){var k=null,l={registerTrendingTopicListeners:function(m,n,o,p){if(!k)k={};for(var q=0;q<m.length;q++){var r=m[q];if(r==null||k[r])continue;k[r]=j.listen('click',r,this._logTrendingTopicClick(r,n,o[q],p));}},logTrendingTopicImpressions:function(m,n,o,p){if(!m)return;for(var q=0;q<m.length;q++)if(m[q]==null){m.splice(q,1);o.splice(q,1);q--;}var r=new g().setIntVector('topic_ids',m).setString('source',n).setIntVector('positions',o).setInt('query_id',p).setString('event',i.event_impression).getURI(),s=new h(r);s.send();},_logTrendingTopicClick:function(m,n,o,p){if(!m)return;return function(){var q=new g().setIntVector('topic_ids',[m]).setString('source',n).setIntVector('positions',[o]).setInt('query_id',p).setString('event',i.event_click).getURI(),r=new h(q);r.send();};}};e.exports=l;},null);
__d("MSearchOverlay",["setTimeoutAcrossTransitions","$","CSS","DOM","DataStore","MJewels","MPlaces","MSearchConst","MSearchTrendingLogger","MViewport","MLinkHack","MTouchClick","Stratcom","URI","Vector","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=function(x){var y=x.useHistory,z=h(x.overlay),aa=j.find(z,'div','typeahead-hardpoint'),ba=h(x.textinput),ca=x.cancelbtn?h(x.cancelbtn):null,da=x.nullstate,ea=x.emptyStatePromo;if(ba.tagName!=='input')ba=j.find(ba,'input');var fa=k.get(aa);if(fa.typeahead){ga();}else s.listen('m:search-typeahead:ready',null,ga);function ga(){var ha=fa.typeahead;s.listen('m:text-input:clear',null,ta);s.listen('m:viewport:update',null,function(xa){v(z.style,xa.getData());});var ia,ja=false,ka=false,la,ma=true;function na(){var xa=u.getDim(j.scry(z,'div','marea')[0]).y,ya=j.scry(z,'div','jx-typeahead-results')[0];xa=xa+(ya?u.getDim(ya).y:0);return Math.max(xa,p.getScreenHeight());}function oa(){if(!ea)return;i.conditionShow(ea,ha.getValue().length===0);}function pa(xa){var ya=na();ia=p.addHeightConstraint(ya);z.style.minHeight=ya+'px';ja=true;la=g(function(){ka=ja;},2000);i.conditionClass(h("page"),'sideSearchShowing',true);j.show(z);p.scrollToHeader();oa();if(da&&ha.getValue().length===0)qa(da);}function qa(xa){var ya=xa.getElementsByClassName('jx-typeahead-results')[0].getAttribute('data-query'),za=[],ab=[],bb=xa.getElementsByClassName('jx-result');for(var cb=0;cb<bb.length;cb++){za.push(bb[cb].getAttribute('data-topic'));ab.push(cb+1);}o.registerTrendingTopicListeners(za,n.msite_news_non_gs_null_state,ab,ya);o.logTrendingTopicImpressions(za,n.msite_news_non_gs_null_state,ab,ya);}function ra(xa){i.conditionClass(h("page"),'sideSearchShowing',false);clearTimeout(la);ja=ka=false;j.hide(z);z.style.minHeight='';ia&&ia.release();ia=null;m.clearWatch();}function sa(xa){s.invoke('log-m-search-session-end',null,{reason:xa});}function ta(){ha.clear();ha.refresh();}function ua(){ma=false;ta();va();oa();}function va(){ba.blur();}if(y)s.listen('m:history:change',null,function(xa){var ya=xa.getData().soft===l.SEARCH;if(ya){pa();ba.focus();}else{sa('cancel');ua();ra();}}.bind(this));var wa=r.hasTouchEvents()?'touchend':'click';s.listen(wa,'search-activator',pa);s.listen('click','search-activator',ba.focus.bind(ba));ha.listen('show',function(){g(function(){ja&&ia.setValue(na());},0);if(da)if(ha.getValue().length>0){j.hide(da);}else j.show(da);oa();});j.listen(aa,'click','typeahead-result',function(xa){var ya=s.invoke('m:search-typehead:click',null,xa.getNode('typeahead-result')),za=ya.getData();q.safe(za,function(ab){ab.href=new t(ab.href).addQueryData('refid',n.refid);});ya.setData(za);if(ya.getPrevented()){if(ya.getStopped()){xa.kill();}else xa.prevent();va();}else{ua();ra();}});ha.listen('choose',function(){s.context().prevent();});z.onclick=function(){if(!ka){ka=true;ba.focus();}};if(ca)j.listen(ca,'click',null,function(){if(y){history.go(-1);}else if(ka){sa('cancel');ua();ra();}s.invoke('m:search-overlay:cancel');});j.listen(z,'touchstart','jx-result',va);j.listen(ba,'focus',null,function(xa){ma=true;p.scrollToHeader();});ha.listen('blur',function(xa){if(ma)xa.prevent();});s.listen('m:side-area:hide',null,function(){sa('back');ra();});}};f.main=w;},null);
__d("MJewelMarauderLogger",["MarauderLogger"],function(a,b,c,d,e,f,g){function h(j,k,l){var m={};if(k==='scroll'){m.action_type=k;m.extra_data=l;}else if(k==='clicked'){m.action_type=k;var n=l.getNode('tag:a');m.extra_data=n&&n.href?n.href:null;}else if(k==='updated')m.action_type=k;g.log('jewel',j,m);}function i(j,k,l){g.toggleModule(j,k,l);}e.exports={log:h,toggleModule:i};},null);
__d("MSideNavMarauderLogger",["DataStore","Stratcom","MarauderLogger","MTouchClick"],function(a,b,c,d,e,f,g,h,i,j){var k='';function l(event){i.toggleModule('sidebar_menu',true);}function m(event){i.toggleModule('sidebar_menu',false);}function n(event){var w=event.getNode('tag:a'),x=event.getNode('tag:div');i.log('open_application','sidebar_menu',{application_link_type:'local_module',display_name:x?x.innerText:'unknown',url:w&&w.href});i.setNavigationModule('sidebar_menu');}function o(){t('session_start');}function p(){t('cancel');}function q(w){var x=w.getData();if(x.node.rel<=0)return;var y=0,z='',aa=g.get(x.node);if(aa){y=aa.bootstrap?1:0;z=aa.type;}var ba=0,ca=null;for(var da=0;da<x.results.length;da++){var ea=x.results[da];if(ea.rel>0){if(ea.rel==x.node.rel){ca=ba;break;}ba++;}}t('click',{query:x.query,is_bootstrapped:y,display_position:ca},z,x.node.rel);}function r(w){var x=w.getData();t('click',{query:x.query,is_bootstrapped:x.node.bootstrap?1:0,display_position:x.position},x.node.type,x.node.id);}function s(w){if(k!==w)t('search_keystroke',{prev_query:k,new_query:w});k=w;}function t(w,x,y,z){i.log(w,'search_typeahead',x,y,z);}function u(w){w.listen('change',s);}h.listen('m:side-area:show',null,l);h.listen('m:side-area:hide',null,m);h.listen('click','side-menu-item',n);var v=j.hasTouchEvents()?'touchend':'click';h.listen(v,'search-activator',o);h.listen(v,'graph-search-activator',o);h.listen('click','graph-search-entry-point',o);h.listen('m:search-overlay:cancel',null,p);h.listen('m:search-overlay:cancel-react',null,p);h.listen('m:search-typeahead:select',null,q);h.listen('m:search-typeahead:select-react',null,r);e.exports={setupTypeaheadListener:u};},null);
__d("MSearchTypeahead",["CSS","DOM","MPageController","MPlaces","MRequest","SearchMTouchGlobalOptions","MURI","Stratcom","Typeahead","copyProperties","createDeprecatedProperties","cx","eventsMixinDeprecated","mtx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=55,v=70;for(var w in o)if(o.hasOwnProperty(w))y[w]=o[w];var x=o===null?null:o.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=o;function y(z,aa,ba){"use strict";this.loadingIndicator=h.find(z,'div','searchLoadingIndicator');h.hide(this.loadingIndicator);this._seeMoreNode=h.create('a',{className:'touchable viewMore',sigil:'touchable typeahead-result'});h.hide(this._seeMoreNode);o.apply(this,[z,aa]);this.uberbarQRPromo=h.scry(document.body,'*','uberbarQRPromo')[0];this._photoSize=ba.photoSize;h.listen(this._root,'click','tag:a',function(ca){this.invoke('select',ca.getNode('tag:a'));}.bind(this));h.listen(this._control,'focus',null,this.startWatchLocation);h.listen(this._control,'blur',null,this.stopWatchLocation);}y.prototype.hide=function(){"use strict";if(this.getPermanent())return;o.prototype.hide.call(this);};y.prototype.setDatasource=function(z){"use strict";o.prototype.setDatasource.call(this,z);z.listen('complete',this.complete.bind(this));this.listen('show',this.resultsShown.bind(this));};y.prototype.submit=function(){"use strict";if(this.getValue()!==''){o.prototype.submit.call(this);if(l.enableSeeMore){var z='/search/?query='+encodeURIComponent(this.getValue());i.load(z);}this._control.blur();}};y.prototype.waitForResults=function(){"use strict";if(window.FW_ENABLED){this._root.appendChild(this.loadingIndicator);}else this._root.insertBefore(this.loadingIndicator,this._root.lastChild);h.show(this.loadingIndicator);};y.prototype.complete=function(){"use strict";if(window.FW_ENABLED&&this._display.length===0)this._root.appendChild(h.create('div',{className:'noResults'},"\u65e0\u641c\u7d22\u7ed3\u679c"));if(window.FW_ENABLED&&this.uberbarQRPromo){this._root.appendChild(this.uberbarQRPromo);h.show(this.uberbarQRPromo);}h.hide(this.loadingIndicator);};y.prototype.resultsShown=function(z){"use strict";if(this.getValue().length!==0){if(!window.FW_ENABLED){var aa=y.TRUNCATE_LENGTH,ba=this.getValue();if(ba.length>aa)ba=ba.substr(0,aa-3)+'...';if(l.enableSeeMore){this._seeMoreNode.href='/search/?query='+encodeURIComponent(this.getValue());h.setContent(this._seeMoreNode,t._("\u67e5\u770b\u66f4\u591a\u6709\u5173\u201c{query}\u201d\u7684\u7ed3\u679c",{query:ba}));z.show.push(this._seeMoreNode);h.show(this._seeMoreNode);}}z.show.push(this.loadingIndicator);h.show(this.loadingIndicator);}if(this.showPresence)this.showPresenceIcons(z.show);if(this._photoSize){var ca=((this._photoSize===u?"_32dm":'')+(this._photoSize===v?' '+"_32dn":''));ca=ca&&ca.trim();z.show.forEach(function(da){return g.addClass(da,ca);});}return true;};y.prototype.showPresenceIcons=function(z){"use strict";var aa=[];for(var ba=0;ba<z.length;++ba)if(z[ba].rel)aa.push(z[ba].rel);var ca=new k(new m('/chat/presence_icon.php').setAsync(true).toString());ca.setData({ids:aa});ca.listen('done',function(da){if(!da||da.length===0)return;var ea=h.scry(this._root,'a','typeahead-result');for(var fa=0;fa<ea.length;++fa)if(da[ea[fa].rel]===1){var ga=h.find(ea[fa],'i','presence');h.show(ga);}}.bind(this));ca.send();};y.prototype.addLocationAwareSource=function(z){"use strict";n.listen('location-update',null,function(event){z.setAuxiliaryData(p(z.getAuxiliaryData(),{json_location:j.getCurrentJSONLocation()}));});};y.prototype.startWatchLocation=function(event){"use strict";if(j.shouldUseFWGeolocation())j.monitorLocation();};y.prototype.stopWatchLocation=function(event){"use strict";j.clearWatch();};p(y,{TRUNCATE_LENGTH:20});q(y,{permanent:false});s(y,['select']);p(y.prototype,{icons:null,loadingIndicator:null,uberbarQRPromo:null,showPresence:false});e.exports=y;},null);
__d("MTypeaheadNativeSource",["MTypeaheadHelpers","Stratcom","TypeaheadInternationalNormalizer","TypeaheadPreloadedSource","createDeprecatedProperties","eventsMixinDeprecated","FWLoader"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=b('FWLoader').FW;for(var n in j)if(j.hasOwnProperty(n))p[n]=j[n];var o=j===null?null:j.prototype;p.prototype=Object.create(o);p.prototype.constructor=p;p.__superConstructor__=j;function p(){"use strict";j.apply(this,arguments);this.setNormalizer(i.normalize);}p.prototype.didStart=function(){"use strict";var q=this;h.listen('fw-bootstrapped-results-ready',null,function(r){q.invoke('rawresultsready',r.getData().friends);q.ondata(r.getData().friends);});window.FW_ENABLED&&m.bootstrapUsers();};p.prototype.ondata=function(q){"use strict";for(var r=0;r<q.length;++r)q[r].idx=r;j.prototype.ondata.apply(this,arguments);};p.prototype.sortHits=function(q,r){"use strict";var s=function(t,u){var v=this._raw[t],w=isNaN(v.idx)?Number.MAX_VALUE:v.idx,x=this._raw[u],y=isNaN(x.idx)?Number.MAX_VALUE:x.idx;return w-y;}.bind(this);r.sort(s);};p.prototype.matchResults=function(q){"use strict";var r=this.normalize(q);j.prototype.matchResults.call(this,r);};p.prototype.createNode=function(q){"use strict";return g.createNode(q,this.getShowSecondaryAction());};l(p,['rawresultsready']);k(p,{transformer:function(q){return {name:q.text,uri:q.path,id:q.uid,photo:q.photo,display:q.display||q.text,action:q.action,paths:q.paths,permissions:q.permissions,bootstrap:q.bootstrap,nativethirdpartyappicon:q.nativethirdpartyappicon};},showSecondaryAction:true});e.exports=p;},null);
__d("MTypeaheadPackagedSource",["MTypeaheadHelpers","TypeaheadInternationalNormalizer","TypeaheadPreloadedSource","createDeprecatedProperties"],function(a,b,c,d,e,f,g,h,i,j){for(var k in i)if(i.hasOwnProperty(k))m[k]=i[k];var l=i===null?null:i.prototype;m.prototype=Object.create(l);m.prototype.constructor=m;m.__superConstructor__=i;function m(n){"use strict";i.call(this);this.packagedResults=n;this.setNormalizer(h.normalize);}m.prototype.didStart=function(){"use strict";this.ondata(this.packagedResults);};m.prototype.ondata=function(n){"use strict";for(var o=0;o<n.length;++o)n[o].idx=o;i.prototype.ondata.apply(this,arguments);};m.prototype.sortHits=function(n,o){"use strict";var p=function(q,r){var s=this._raw[q],t=isNaN(s.idx)?Number.MAX_VALUE:s.idx,u=this._raw[r],v=isNaN(u.idx)?Number.MAX_VALUE:u.idx;return t-v;}.bind(this);o.sort(p);};m.prototype.matchResults=function(n){"use strict";var o=this.normalize(n);i.prototype.matchResults.call(this,o);};m.prototype.createNode=function(n){"use strict";return g.createNode(n,this.getShowSecondaryAction());};j(m,{transformer:function(n){return {name:n.text,uri:n.path,id:n.uid,photo:n.photo,display:n.display||n.text,action:n.action,paths:n.paths,permissions:n.permissions,type:n.type,openinnewtab:n.openinnewtab,subtext:n.subtext,bootstrap:n.bootstrap,verified:n.verified,nativethirdpartyappicon:n.nativethirdpartyappicon};},packagedResults:null,showSecondaryAction:true});e.exports=m;},null);
__d("InitMSearchTypeahead",["$","DOM","DataStore","MSearchTypeahead","MSearchTypeaheadLogger","MSearchTypeaheadPerfLogger","MTypeaheadNativeSource","MTypeaheadOnDemandSource","MTypeaheadPackagedSource","MTypeaheadTouchSource","Stratcom","TypeaheadCompositeSource","SearchMTouchGlobalOptions","FWLoader"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=b('FWLoader').FW,u,v=function(w){if(u)return;u=true;var x=g(w.id),y=g(w.textinput);if(y.tagName.toLowerCase()!=='input')y=h.find(y,'input');var z=new j(x,y,{photoSize:w.photoSize});if(w.mSideNavMarauderLogger)w.mSideNavMarauderLogger.setupTypeaheadListener(z);var aa,ba=[];if(w.sources.packagedSource){aa=new o(w.sources.packagedSource.packagedresults);aa.setShowSecondaryAction(w.showSecondaryAction);ba.push(aa);}if(w.sources.nativeSource){aa=new m();aa.setShowSecondaryAction(w.showSecondaryAction);ba.push(aa);}if(w.sources.bootstrapped){aa=new p(w.sources.bootstrapped.src,w.sources.bootstrapped.source_key);aa.setShowSecondaryAction(w.showSecondaryAction);ba.push(aa);}if(w.sources.online){aa=new n(w.sources.online.src);if(w.sources.online.max_results)aa.setMaximumResultCount(w.sources.online.max_results);aa.setEnableImmediateReturnOfCachedResults(w.sources.online.enable_caching);if(s.enableQueryThrottle)aa.setThrottleSendRequest(s.queryThrottleTime);aa.setMaxResults(s.maxResults);aa.setEnableEagerSendRequest(s.enableEagerSendRequest);aa.setQueryDelay(s.queryWaitTime);aa.setShowSecondaryAction(w.showSecondaryAction);ba.push(aa);if(w.sources.online.useLocation)z.addLocationAwareSource(aa);}var ca=new r(ba);ca.disableEmptyMergeKey();z.setDatasource(ca);z.setPermanent(w.permanent);if(w.showPresence)z.showPresence=true;if(w.typeaheadScubaInfo)new l(z,w.typeaheadScubaInfo,w.sources.online.enable_caching);var da='/search/metrics.php',ea=new k(z,da);q.listen('log-m-search-session-end',null,function(fa){ea.blur(fa.getData().reason);});i.get(x).typeahead=z;q.listen('m-search-typeahead-change',null,function(fa){if(fa.getData().query!=z.getValue()){z.setValue(fa.getData().query);z.refresh();}});h.listen(x,'click','typeahead-result',function(){y.blur();});q.listen('m:search-typeahead:clear',null,function(fa){z.setValue('');z.refresh();});q.invoke('m:search-typeahead:ready');z.start();if(y.value!=='')z.refresh();if(window.FW_ENABLED)t.ubersearchReady();};f.main=v;},null);